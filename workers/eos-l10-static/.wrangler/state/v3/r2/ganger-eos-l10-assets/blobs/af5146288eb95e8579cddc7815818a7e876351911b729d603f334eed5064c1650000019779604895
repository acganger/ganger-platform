(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[142],{274:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(1524).Z)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},4967:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(1524).Z)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]])},8991:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(1524).Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},474:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(1524).Z)("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},3795:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(1524).Z)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]])},4064:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(1524).Z)("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]])},3017:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(1524).Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]])},3186:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(1524).Z)("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]])},1362:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(1524).Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},3491:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(1524).Z)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},3247:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(1524).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},6247:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(1524).Z)("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]])},3272:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(1524).Z)("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]])},6876:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/rocks",function(){return a(2528)}])},2619:function(e,t,a){"use strict";a.d(t,{AJ:function(){return c},ZP:function(){return l}});var s=a(1549),r=a(4168),i=a(474),n=a(3247);function l(e){let{page:t="dashboard",showCount:a=!0,showAvatars:l=!0,maxAvatars:c=5}=e,{onlineUsers:d}=(0,r.o)(t);if(0===d.length)return null;let o=d.slice(0,c),u=Math.max(0,d.length-c);return(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[l&&(0,s.jsxs)("div",{className:"flex -space-x-2",children:[o.map(e=>(0,s.jsxs)("div",{className:"relative",title:"".concat(e.full_name," - ").concat(e.page),children:[e.avatar_url?(0,s.jsx)("img",{src:e.avatar_url,alt:e.full_name,className:"w-8 h-8 rounded-full border-2 border-white bg-gray-100"}):(0,s.jsx)("div",{className:"w-8 h-8 rounded-full border-2 border-white bg-eos-100 flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-xs font-medium text-eos-700",children:e.full_name.charAt(0).toUpperCase()})}),(0,s.jsx)("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-green-400 border-2 border-white rounded-full"})]},e.user_id)),u>0&&(0,s.jsx)("div",{className:"w-8 h-8 rounded-full border-2 border-white bg-gray-200 flex items-center justify-center",children:(0,s.jsxs)("span",{className:"text-xs font-medium text-gray-600",children:["+",u]})})]}),a&&(0,s.jsxs)("div",{className:"flex items-center space-x-1 text-sm text-gray-600",children:[(0,s.jsx)(i.Z,{className:"w-2 h-2 fill-green-400 text-green-400"}),(0,s.jsxs)("span",{children:[d.length," online"]})]}),!l&&(0,s.jsxs)("div",{className:"flex items-center space-x-1 text-sm text-gray-600",children:[(0,s.jsx)(n.Z,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:d.length})]})]})}function c(){let{onlineUsers:e}=(0,r.o)();return(0,s.jsxs)("div",{className:"hidden sm:flex items-center space-x-3 bg-white rounded-lg px-3 py-2 shadow-sm border",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,s.jsx)(i.Z,{className:"w-2 h-2 fill-green-400 text-green-400"}),(0,s.jsxs)("span",{className:"text-sm text-gray-600 font-medium",children:[e.length," team member",1!==e.length?"s":""," online"]})]}),e.length>0&&(0,s.jsxs)("div",{className:"flex -space-x-2",children:[e.slice(0,3).map(e=>(0,s.jsx)("div",{className:"relative",title:e.full_name,children:e.avatar_url?(0,s.jsx)("img",{src:e.avatar_url,alt:e.full_name,className:"w-6 h-6 rounded-full border-2 border-white"}):(0,s.jsx)("div",{className:"w-6 h-6 rounded-full border-2 border-white bg-eos-100 flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-xs font-medium text-eos-700",children:e.full_name.charAt(0).toUpperCase()})})},e.user_id)),e.length>3&&(0,s.jsx)("div",{className:"w-6 h-6 rounded-full border-2 border-white bg-gray-200 flex items-center justify-center",children:(0,s.jsxs)("span",{className:"text-xs font-medium text-gray-600",children:["+",e.length-3]})})]})]})}},4168:function(e,t,a){"use strict";a.d(t,{o:function(){return n}});var s=a(4194),r=a(1700),i=a(3459);function n(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"dashboard",{user:t,activeTeam:a}=(0,r.aC)(),[n,l]=(0,s.useState)([]),[c,d]=(0,s.useState)(null);return(0,s.useEffect)(()=>{if(!t||!a)return;let s="team-".concat(a.id),r=i.OQ.channel(s,{config:{presence:{key:t.id}}}),n=()=>{var a,s;let i={user_id:t.id,email:t.email||"",full_name:(null===(a=t.user_metadata)||void 0===a?void 0:a.full_name)||t.email||"",avatar_url:null===(s=t.user_metadata)||void 0===s?void 0:s.avatar_url,page:e,last_seen:new Date().toISOString()};d(i),r.track(i)};r.on("presence",{event:"sync"},()=>{let e=r.presenceState(),a=[];Object.keys(e).forEach(t=>{let s=e[t];if(s&&s.length>0){let e=s.reduce((e,t)=>{let a=t.last_seen||new Date().toISOString(),s=e.last_seen||new Date().toISOString();return new Date(a)>new Date(s)?t:e});a.push(e)}}),l(a.filter(e=>e.user_id!==(null==t?void 0:t.id)).sort((e,t)=>new Date(t.last_seen||new Date).getTime()-new Date(e.last_seen||new Date).getTime()))}).on("presence",{event:"join"},e=>{let{key:t,newPresences:a}=e}).on("presence",{event:"leave"},e=>{let{key:t,leftPresences:a}=e}).subscribe(async e=>{"SUBSCRIBED"===e&&n()});let c=setInterval(()=>{"joined"===r.state&&n()},3e4),o=()=>{"visible"===document.visibilityState&&n()};return document.addEventListener("visibilitychange",o),()=>{clearInterval(c),document.removeEventListener("visibilitychange",o),i.OQ.removeChannel(r)}},[t,a,e]),{onlineUsers:n,myPresence:c}}},4694:function(e,t,a){"use strict";a.d(t,{F:function(){return n}});var s=a(4194),r=a(1700),i=a(3459);function n(e){let{activeTeam:t}=(0,r.aC)(),a=e||(null==t?void 0:t.id),[n,u]=(0,s.useState)([]),[m,x]=(0,s.useState)([]),[h,f]=(0,s.useState)([]),[p,g]=(0,s.useState)([]),[y,v]=(0,s.useState)(!0),[j,_]=(0,s.useState)(null);return(0,s.useEffect)(()=>{let e,t,s,r;if(!a){v(!1);return}let n=e=>{let{eventType:t,new:a,old:s}=e;u(e=>{switch(t){case"INSERT":return[...e,l(a)].sort((e,t)=>e.priority-t.priority);case"UPDATE":let r=l(a);return e.map(e=>e.id===r.id?r:e).sort((e,t)=>e.priority-t.priority);case"DELETE":return e.filter(e=>e.id!==s.id);default:return e}})},m=e=>{let{eventType:t,new:a,old:s}=e;x(e=>{switch(t){case"INSERT":return[c(a),...e];case"UPDATE":let r=c(a);return e.map(e=>e.id===r.id?r:e);case"DELETE":return e.filter(e=>e.id!==s.id);default:return e}})},h=e=>{let{eventType:t,new:a,old:s}=e;f(e=>{switch(t){case"INSERT":return[...e,d(a)].sort((e,t)=>new Date(e.due_date).getTime()-new Date(t.due_date).getTime());case"UPDATE":let r=d(a);return e.map(e=>e.id===r.id?r:e).sort((e,t)=>new Date(e.due_date).getTime()-new Date(t.due_date).getTime());case"DELETE":return e.filter(e=>e.id!==s.id);default:return e}})},p=e=>{let{eventType:t,new:a,old:s}=e;g(e=>{switch(t){case"INSERT":return[o(a),...e];case"UPDATE":let r=o(a);return e.map(e=>e.id===r.id?r:e);case"DELETE":return e.filter(e=>e.id!==s.id);default:return e}})};return(async()=>{try{v(!0),_(null);let{data:e,error:t}=await i.OQ.from("rocks").select("*").eq("team_id",a).order("priority",{ascending:!0});if(t)throw t;let{data:s,error:r}=await i.OQ.from("issues").select("*").eq("team_id",a).order("created_at",{ascending:!1});if(r)throw r;let{data:n,error:m}=await i.OQ.from("todos").select("*").eq("team_id",a).order("due_date",{ascending:!0});if(m)throw m;let{data:h,error:p}=await i.OQ.from("l10_meetings").select("*").eq("team_id",a).order("scheduled_date",{ascending:!1});if(p)throw p;u(e.map(e=>l(e))),x(s.map(e=>c(e))),f(n.map(e=>d(e))),g(h.map(e=>o(e))),v(!1)}catch(e){_(e instanceof Error?e.message:"Failed to load data"),v(!1)}})(),e=i.OQ.channel("rocks-".concat(a)).on("postgres_changes",{event:"*",schema:"public",table:"rocks",filter:"team_id=eq.".concat(a)},e=>{n(e)}).subscribe(),t=i.OQ.channel("issues-".concat(a)).on("postgres_changes",{event:"*",schema:"public",table:"issues",filter:"team_id=eq.".concat(a)},e=>{m(e)}).subscribe(),s=i.OQ.channel("todos-".concat(a)).on("postgres_changes",{event:"*",schema:"public",table:"todos",filter:"team_id=eq.".concat(a)},e=>{h(e)}).subscribe(),r=i.OQ.channel("meetings-".concat(a)).on("postgres_changes",{event:"*",schema:"public",table:"l10_meetings",filter:"team_id=eq.".concat(a)},e=>{p(e)}).subscribe(),()=>{e&&i.OQ.removeChannel(e),t&&i.OQ.removeChannel(t),s&&i.OQ.removeChannel(s),r&&i.OQ.removeChannel(r)}},[a]),{rocks:n,issues:m,todos:h,meetings:p,loading:y,error:j}}function l(e){return{id:e.id,team_id:e.team_id,owner_id:e.owner_id,title:e.title,description:e.description||void 0,quarter:e.quarter,status:e.status,completion_percentage:e.completion_percentage,priority:e.priority,due_date:e.due_date,created_at:e.created_at,updated_at:e.updated_at,milestones:[]}}function c(e){return{id:e.id,team_id:e.team_id,title:e.title,description:e.description||void 0,type:e.type,priority:e.priority,status:e.status,owner_id:e.owner_id||void 0,created_by:e.created_by,created_at:e.created_at,updated_at:e.updated_at,solved_at:e.solved_at||void 0,solution:e.solution||void 0,meeting_id:e.meeting_id||void 0}}function d(e){return{id:e.id,team_id:e.team_id,title:e.title,description:e.description||void 0,assigned_to:e.assigned_to,created_by:e.created_by,due_date:e.due_date,status:e.status,priority:e.priority,meeting_id:e.meeting_id||void 0,completed_at:e.completed_at||void 0,created_at:e.created_at,updated_at:e.updated_at}}function o(e){return{id:e.id,team_id:e.team_id,title:e.title,scheduled_date:e.scheduled_date,start_time:e.start_time,end_time:e.end_time||void 0,status:e.status,facilitator_id:e.facilitator_id,agenda:e.agenda||{segue:{duration:5,completed:!1},scorecard:{duration:5,completed:!1},rock_review:{duration:5,completed:!1},customer_employee_headlines:{duration:5,completed:!1},todo_review:{duration:5,completed:!1},ids:{duration:60,completed:!1},conclude:{duration:5,completed:!1}},created_at:e.created_at,updated_at:e.updated_at}}},2528:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return b}});var s=a(1549),r=a(4194),i=a(55),n=a.n(i),l=a(5560),c=a(1700),d=a(4694),o=a(4168),u=a(755),m=a(2619),x=a(3459),h=a(3491),f=a(7307),p=a(8133),g=a(2122),y=a(2799),v=a(6072),j=a(4864),_=a(6204);function b(){let{activeTeam:e,user:t,userRole:a}=(0,c.aC)(),{rocks:i,loading:b,error:N}=(0,d.F)(),{onlineUsers:w}=(0,o.o)("rocks"),[k,Z]=(0,r.useState)(""),[E,S]=(0,r.useState)(""),[D,C]=(0,r.useState)("all"),[O,T]=(0,r.useState)([]);(0,r.useEffect)(()=>{i.length>0&&T([...i])},[i]),(0,r.useEffect)(()=>{if(!k){let e=new Date,t=e.getFullYear(),a=Math.ceil((e.getMonth()+1)/3);Z("Q".concat(a," ").concat(t))}},[k]);let q=async e=>{if(!e.destination)return;let{source:t,destination:a}=e;if(t.index===a.index)return;let s=Array.from(O),[r]=s.splice(t.index,1);s.splice(a.index,0,r);let n=s.map((e,t)=>({...e,priority:t+1}));T(n);try{for(let e of n)await x.OQ.from("rocks").update({priority:e.priority}).eq("id",e.id)}catch(e){T([...i])}},M=e=>{switch(e){case"on_track":return"bg-green-100 text-green-800";case"off_track":return"bg-red-100 text-red-800";case"complete":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},Q=(e,t)=>"complete"===t?"bg-blue-500":e>=75?"bg-green-500":e>=50?"bg-yellow-500":"bg-red-500",P=O.filter(e=>{var t;let a=!k||e.quarter===k,s=!E||e.title.toLowerCase().includes(E.toLowerCase())||(null===(t=e.description)||void 0===t?void 0:t.toLowerCase().includes(E.toLowerCase())),r="all"===D||e.status===D;return a&&s&&r}),A=Array.from(new Set(i.map(e=>e.quarter))).sort();return(0,s.jsx)(c.a1,{children:(0,s.jsx)(c.P6,{children:(0,s.jsxs)("div",{children:[(0,s.jsxs)(n(),{children:[(0,s.jsx)("title",{children:"Rocks - EOS L10 Platform"}),(0,s.jsx)("meta",{name:"description",content:"Quarterly rocks tracking and management"})]}),(0,s.jsx)(u.Z,{children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[(0,s.jsx)(h.Z,{className:"h-6 w-6 mr-2 text-eos-600"}),"Rocks"]}),(0,s.jsx)("p",{className:"text-gray-600 mt-1",children:"Track and prioritize quarterly goals"})]}),(0,s.jsxs)("div",{className:"mt-4 sm:mt-0 flex items-center space-x-3",children:[(0,s.jsx)(m.ZP,{page:"rocks"}),("leader"===a||"member"===a)&&(0,s.jsxs)(l.Z,{href:"/rocks/new",className:"btn-primary flex items-center",children:[(0,s.jsx)(f.Z,{className:"h-4 w-4 mr-2"}),"New Rock"]})]})]}),N&&(0,s.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,s.jsxs)("p",{className:"text-red-800 text-sm",children:["Error loading rocks: ",N]})}),(0,s.jsx)("div",{className:"card",children:(0,s.jsx)("div",{className:"card-content",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quarter"}),(0,s.jsxs)("select",{value:k,onChange:e=>Z(e.target.value),className:"input",children:[(0,s.jsx)("option",{value:"",children:"All Quarters"}),A.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,s.jsxs)("select",{value:D,onChange:e=>C(e.target.value),className:"input",children:[(0,s.jsx)("option",{value:"all",children:"All Status"}),(0,s.jsx)("option",{value:"not_started",children:"Not Started"}),(0,s.jsx)("option",{value:"on_track",children:"On Track"}),(0,s.jsx)("option",{value:"off_track",children:"Off Track"}),(0,s.jsx)("option",{value:"complete",children:"Complete"})]})]}),(0,s.jsxs)("div",{className:"md:col-span-2",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(p.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,s.jsx)("input",{type:"text",placeholder:"Search rocks...",value:E,onChange:e=>S(e.target.value),className:"input pl-10"})]})]})]})})}),(0,s.jsxs)("div",{className:"card",children:[(0,s.jsx)("div",{className:"card-header",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("h3",{className:"card-title",children:[k||"All Quarters"," (",P.length," rocks)"]}),(0,s.jsx)("div",{className:"text-sm text-gray-500",children:"Drag to reorder priority"})]})}),(0,s.jsx)("div",{className:"card-content",children:b?(0,s.jsx)("div",{className:"space-y-4",children:[void 0,void 0,void 0].map((e,t)=>(0,s.jsx)("div",{className:"border rounded-lg p-4",children:(0,s.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,s.jsx)("div",{className:"skeleton w-8 h-8 rounded"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("div",{className:"skeleton h-5 w-2/3 mb-2"}),(0,s.jsx)("div",{className:"skeleton h-4 w-full mb-3"}),(0,s.jsxs)("div",{className:"flex space-x-4",children:[(0,s.jsx)("div",{className:"skeleton h-4 w-24"}),(0,s.jsx)("div",{className:"skeleton h-4 w-32"})]})]})]})},t))}):0===P.length?(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)(h.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No rocks found"}),(0,s.jsx)("p",{className:"text-gray-500 mb-4",children:0===i.length?"Create your first quarterly rock to get started":"Try adjusting your filters"}),("leader"===a||"member"===a)&&0===i.length&&(0,s.jsxs)(l.Z,{href:"/rocks/new",className:"btn-primary",children:[(0,s.jsx)(f.Z,{className:"h-4 w-4 mr-2"}),"Create First Rock"]})]}):(0,s.jsx)(_.Z5,{onDragEnd:q,children:(0,s.jsx)(_.bK,{droppableId:"rocks-list",children:(e,t)=>(0,s.jsxs)("div",{...e.droppableProps,ref:e.innerRef,className:"space-y-3 ".concat(t.isDraggingOver?"bg-blue-50 rounded-lg p-2":""),children:[P.map((e,t)=>(0,s.jsx)(_._l,{draggableId:e.id,index:t,isDragDisabled:"viewer"===a,children:(t,r)=>(0,s.jsx)("div",{ref:t.innerRef,...t.draggableProps,className:"border rounded-lg p-4 bg-white hover:shadow-md transition-shadow ".concat(r.isDragging?"shadow-lg":""),children:(0,s.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,s.jsx)("div",{...t.dragHandleProps,className:"flex-shrink-0 p-1 rounded hover:bg-gray-100 cursor-grab active:cursor-grabbing",children:(0,s.jsx)("div",{className:"w-6 h-6 flex items-center justify-center",children:(0,s.jsx)("div",{className:"grid grid-cols-2 gap-0.5",children:[...Array(6)].map((e,t)=>(0,s.jsx)("div",{className:"w-1 h-1 bg-gray-400 rounded-full"},t))})})}),(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)("div",{className:"w-8 h-8 bg-eos-100 rounded-full flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-sm font-bold text-eos-700",children:e.priority})})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)(l.Z,{href:"/rocks/".concat(e.id),className:"text-lg font-semibold text-gray-900 hover:text-eos-600",children:e.title}),e.description&&(0,s.jsx)("p",{className:"text-gray-600 mt-1 text-sm line-clamp-2",children:e.description})]}),("leader"===a||"member"===a)&&(0,s.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[(0,s.jsx)(l.Z,{href:"/rocks/".concat(e.id,"/edit"),className:"p-1 text-gray-400 hover:text-gray-600",children:(0,s.jsx)(g.Z,{className:"h-4 w-4"})}),(0,s.jsx)("button",{className:"p-1 text-gray-400 hover:text-red-600",children:(0,s.jsx)(y.Z,{className:"h-4 w-4"})})]})]}),(0,s.jsxs)("div",{className:"mt-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm mb-1",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Progress"}),(0,s.jsxs)("span",{className:"font-medium",children:[e.completion_percentage,"%"]})]}),(0,s.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,s.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 ".concat(Q(e.completion_percentage,e.status)),style:{width:"".concat(e.completion_percentage,"%")}})})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between mt-3 text-sm text-gray-500",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(v.Z,{className:"h-4 w-4 mr-1"}),"Owner: ",e.owner_id]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(j.Z,{className:"h-4 w-4 mr-1"}),"Due: ",new Date(e.due_date).toLocaleDateString()]})]}),(0,s.jsx)("div",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(M(e.status)),children:e.status.replace("_"," ").toUpperCase()})]})]})]})})},e.id)),e.placeholder]})})})})]})]})})]})})})}}},function(e){e.O(0,[505,471,755,888,774,179],function(){return e(e.s=6876)}),_N_E=e.O()}]);