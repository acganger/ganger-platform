(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[240],{7139:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/templates",function(){return a(8849)}])},8849:function(e,t,a){"use strict";a.r(t);var l=a(1549),i=a(4194),s=a(8368),n=a(8848),r=a(3960),c=a(8407);t.default=(0,s.FF)(function(){let{user:e}=(0,s.aC)(),{state:t,loadTemplates:a}=(0,c.F)(),[d,o]=(0,i.useState)(""),[m,x]=(0,i.useState)("all"),[u,p]=(0,i.useState)([]),[g,h]=(0,i.useState)(!0);(0,i.useEffect)(()=>{(async()=>{try{await a();let t=[{id:"acne-handout-kf",name:"Acne Treatment Plan (Complex)",category:"treatment",complexity:"complex",digitalDeliveryEnabled:!0,isActive:!0,lastModified:"2024-01-15",usageCount:245},{id:"sun-protection",name:"Sun Protection Guidelines",category:"education",complexity:"simple",digitalDeliveryEnabled:!0,isActive:!0,lastModified:"2024-01-10",usageCount:189},{id:"patch-testing",name:"Patch Testing Instructions",category:"pre_procedure",complexity:"simple",digitalDeliveryEnabled:!0,isActive:!0,lastModified:"2024-01-08",usageCount:67},{id:"isotretinoin-female",name:"Isotretinoin for Female Patients",category:"medication",complexity:"complex",digitalDeliveryEnabled:!0,isActive:!0,lastModified:"2024-01-05",usageCount:23}];p(t),r.co.track("templates_page_viewed","navigation",{user_role:null==e?void 0:e.role,template_count:t.length})}catch(e){}finally{h(!1)}})()},[a,e]);let y=u.filter(e=>{let t=e.name.toLowerCase().includes(d.toLowerCase()),a="all"===m||e.category===m;return t&&a}),v=Array.from(new Set(u.map(e=>e.category))),f=(null==e?void 0:e.role)==="manager"||(null==e?void 0:e.role)==="superadmin";return g?(0,l.jsx)(n.LN,{children:(0,l.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,l.jsx)(n.TK,{size:"lg"})})}):(0,l.jsxs)(n.LN,{children:[(0,l.jsx)(n.mr,{title:"Template Management",subtitle:"Manage patient education handout templates",actions:f?(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)(n.zx,{variant:"outline",size:"sm",children:"Import Templates"}),(0,l.jsx)(n.zx,{variant:"primary",size:"sm",children:"Create Template"})]}):void 0}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,l.jsx)(n.Zb,{className:"p-4",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-handouts-primary",children:u.length}),(0,l.jsx)("div",{className:"text-sm text-gray-600",children:"Total Templates"})]})}),(0,l.jsx)(n.Zb,{className:"p-4",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-green-600",children:u.filter(e=>e.isActive).length}),(0,l.jsx)("div",{className:"text-sm text-gray-600",children:"Active Templates"})]})}),(0,l.jsx)(n.Zb,{className:"p-4",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:u.filter(e=>e.digitalDeliveryEnabled).length}),(0,l.jsx)("div",{className:"text-sm text-gray-600",children:"Digital Delivery"})]})}),(0,l.jsx)(n.Zb,{className:"p-4",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:u.reduce((e,t)=>e+t.usageCount,0).toLocaleString()}),(0,l.jsx)("div",{className:"text-sm text-gray-600",children:"Total Usage (30d)"})]})})]}),(0,l.jsxs)(n.Zb,{className:"p-6",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Handout Templates"}),(0,l.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,l.jsx)(n.II,{placeholder:"Search templates...",value:d,onChange:e=>o(e.target.value),className:"w-64"}),(0,l.jsxs)("select",{value:m,onChange:e=>x(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-handouts-primary focus:border-transparent",children:[(0,l.jsx)("option",{value:"all",children:"All Categories"}),v.map(e=>(0,l.jsx)("option",{value:e,children:e.replace("_"," ").replace(/\b\w/g,e=>e.toUpperCase())},e))]}),(0,l.jsx)(n.zx,{variant:"outline",size:"sm",children:"Export"})]})]}),(0,l.jsx)(n.wQ,{data:y,columns:[{key:"name",header:"Template Name",sortable:!0},{key:"category",header:"Category",sortable:!0},{key:"complexity",header:"Complexity",sortable:!0,render:e=>(0,l.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full template-complexity-".concat(e.complexity),children:e.complexity})},{key:"usageCount",header:"Usage (30d)",sortable:!0,render:e=>e.usageCount.toLocaleString()},{key:"digitalDeliveryEnabled",header:"Digital Delivery",render:e=>(0,l.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat(e.digitalDeliveryEnabled?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.digitalDeliveryEnabled?"Enabled":"Print Only"})},{key:"isActive",header:"Status",render:e=>(0,l.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat(e.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.isActive?"Active":"Inactive"})},{key:"lastModified",header:"Last Modified",sortable:!0}],onRowClick:e=>{r.co.track("template_clicked","interaction",{template_id:e.id,template_name:e.name})}})]})]})},{requiredRoles:["staff","clinical_staff","manager","superadmin"],redirectTo:"/auth/login"})}},function(e){e.O(0,[294,946,34,848,649,874,888,774,179],function(){return e(e.s=7139)}),_N_E=e.O()}]);