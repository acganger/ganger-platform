(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[417],{9261:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/create",function(){return a(5094)}])},5094:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return T}});var t=a(1549),r=a(55),i=a.n(r),l=a(6393),n=a(7037),d=a(4194),c=a(9527),m=a(5831),o=a(2322);let x={all:["patients"],searches:()=>[...x.all,"search"],search:e=>[...x.searches(),e],details:()=>[...x.all,"detail"],detail:e=>[...x.details(),e]};var h=a(6780);function u(e){var s,a,r;let{data:i,onDataChange:l}=e,[n,u]=(0,d.useState)(""),[p,g]=(0,d.useState)(i.patient),[j,b]=(0,d.useState)(!1),{data:y,isLoading:f,error:N}=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,[a,t]=(0,d.useState)(e);return(0,d.useEffect)(()=>{let a=setTimeout(()=>{t(e)},s);return()=>{clearTimeout(a)}},[e,s]),(0,m.a)({queryKey:x.search(a),queryFn:()=>o.v.searchPatients(a),enabled:a.length>=2,staleTime:6e4,gcTime:3e5})}(n);(0,d.useEffect)(()=>{l("patient",p)},[p,l]);let v=e=>{g(e),u("".concat(e.first_name," ").concat(e.last_name)),b(!1)},w=e=>{u(e),b(e.length>=2),p&&!e.toLowerCase().includes(p.last_name.toLowerCase())&&g(null)},C=e=>{let s=new Date,a=new Date(e),t=s.getFullYear()-a.getFullYear(),r=s.getMonth()-a.getMonth();return(r<0||0===r&&s.getDate()<a.getDate())&&t--,t},k=e=>"".concat(e.insurance_id).concat(e.insurance_group?" (Group: ".concat(e.insurance_group,")"):"");return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search for Patient"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,t.jsx)(c._V,{className:"h-5 w-5 text-gray-400"})}),(0,t.jsx)("input",{type:"text",placeholder:"Search by name, ID, or phone number...",value:n,onChange:e=>w(e.target.value),onFocus:()=>b(n.length>=2),className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 text-sm"})]}),j&&(0,t.jsx)("div",{className:"absolute z-10 mt-1 w-full bg-white shadow-lg max-h-60 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm",children:f?(0,t.jsx)("div",{className:"px-4 py-3 text-sm text-gray-500",children:"Searching patients..."}):N?(0,t.jsx)("div",{className:"px-4 py-3 text-sm text-red-600",children:"Error searching patients. Please try again."}):y&&y.length>0?y.map(e=>(0,t.jsx)("button",{type:"button",onClick:()=>v(e),className:"w-full text-left px-4 py-3 hover:bg-gray-50 focus:outline-none focus:bg-gray-50 border-b border-gray-100 last:border-b-0",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"font-medium text-gray-900",children:[e.first_name," ",e.last_name]}),(0,t.jsxs)("div",{className:"text-sm text-gray-500",children:["DOB: ",(0,h.WU)(new Date(e.date_of_birth),"MMM d, yyyy"),"(",C(e.date_of_birth)," years old)"]}),(0,t.jsxs)("div",{className:"text-sm text-gray-500",children:["Insurance: ",k(e)]})]}),(0,t.jsxs)("div",{className:"text-xs text-gray-400",children:["ID: ",e.id]})]})},e.id)):n.length>=2?(0,t.jsxs)("div",{className:"px-4 py-3 text-sm text-gray-500",children:['No patients found matching "',n,'"']}):null})]}),p&&(0,t.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:(0,t.jsx)(c.tB,{className:"w-6 h-6 text-blue-600"})})}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsxs)("h3",{className:"text-lg font-medium text-gray-900",children:[p.first_name," ",p.last_name]}),(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:["Patient ID: ",p.id]})]})]}),(0,t.jsx)("button",{type:"button",onClick:()=>{g(null),u(""),b(!1)},className:"text-sm text-blue-600 hover:text-blue-500",children:"Change Patient"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Personal Information"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center text-sm",children:[(0,t.jsx)(c.Qu,{className:"w-4 h-4 text-gray-400 mr-2"}),(0,t.jsx)("span",{className:"text-gray-600",children:"DOB:"}),(0,t.jsxs)("span",{className:"ml-2 text-gray-900",children:[(0,h.WU)(new Date(p.date_of_birth),"MMM d, yyyy"),"(",C(p.date_of_birth)," years)"]})]}),(0,t.jsxs)("div",{className:"flex items-center text-sm",children:[(0,t.jsx)(c.qW,{className:"w-4 h-4 text-gray-400 mr-2"}),(0,t.jsx)("span",{className:"text-gray-600",children:"Phone:"}),(0,t.jsx)("span",{className:"ml-2 text-gray-900",children:p.phone})]}),p.email&&(0,t.jsxs)("div",{className:"flex items-center text-sm",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Email:"}),(0,t.jsx)("span",{className:"ml-2 text-gray-900",children:p.email})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Insurance Information"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Insurance ID:"}),(0,t.jsx)("span",{className:"ml-2 text-gray-900",children:p.insurance_id})]}),p.insurance_group&&(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Group:"}),(0,t.jsx)("span",{className:"ml-2 text-gray-900",children:p.insurance_group})]})]})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Address"}),(0,t.jsxs)("div",{className:"text-sm text-gray-900",children:[p.address.street,(0,t.jsx)("br",{}),p.address.city,", ",p.address.state," ",p.address.zip]})]}),((null===(s=p.medical_history)||void 0===s?void 0:s.length)||(null===(a=p.allergies)||void 0===a?void 0:a.length)||(null===(r=p.current_medications)||void 0===r?void 0:r.length))&&(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Medical Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[p.medical_history&&p.medical_history.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h5",{className:"text-xs font-medium text-gray-700 mb-1",children:"Conditions"}),(0,t.jsxs)("ul",{className:"text-xs text-gray-600 space-y-1",children:[p.medical_history.slice(0,3).map((e,s)=>(0,t.jsx)("li",{children:e.condition},s)),p.medical_history.length>3&&(0,t.jsxs)("li",{className:"text-gray-500",children:["+",p.medical_history.length-3," more"]})]})]}),p.allergies&&p.allergies.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h5",{className:"text-xs font-medium text-gray-700 mb-1",children:"Allergies"}),(0,t.jsxs)("ul",{className:"text-xs text-gray-600 space-y-1",children:[p.allergies.slice(0,3).map((e,s)=>(0,t.jsx)("li",{children:e},s)),p.allergies.length>3&&(0,t.jsxs)("li",{className:"text-gray-500",children:["+",p.allergies.length-3," more"]})]})]}),p.current_medications&&p.current_medications.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h5",{className:"text-xs font-medium text-gray-700 mb-1",children:"Current Medications"}),(0,t.jsxs)("ul",{className:"text-xs text-gray-600 space-y-1",children:[p.current_medications.slice(0,3).map((e,s)=>(0,t.jsx)("li",{children:e},s)),p.current_medications.length>3&&(0,t.jsxs)("li",{className:"text-gray-500",children:["+",p.current_medications.length-3," more"]})]})]})]})]})]})]}),!p&&(0,t.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)(c.tB,{className:"h-5 w-5 text-gray-400"})}),(0,t.jsxs)("div",{className:"ml-3",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:"Patient Selection Required"}),(0,t.jsxs)("div",{className:"mt-2 text-sm text-gray-700",children:[(0,t.jsx)("p",{children:"Start by searching for the patient who needs medication authorization. You can search by:"}),(0,t.jsxs)("ul",{className:"mt-2 list-disc list-inside space-y-1",children:[(0,t.jsx)("li",{children:"Patient name (first or last)"}),(0,t.jsx)("li",{children:"Patient ID"}),(0,t.jsx)("li",{children:"Phone number"})]})]})]})]})})]})}var p=a(6461);let g=d.forwardRef((e,s)=>{let{className:a,children:r,padding:i="md",shadow:l="sm",border:n=!0,rounded:d="md",disabled:c=!1,onClick:m,...o}=e;return(0,t.jsx)("div",{ref:s,className:(0,p.cn)("bg-white text-gray-950",{none:"",sm:"p-3",md:"p-6",lg:"p-8"}[i],{none:"",sm:"shadow-sm",md:"shadow-md",lg:"shadow-lg"}[l],{none:"",sm:"rounded-sm",md:"rounded-lg",lg:"rounded-xl"}[d],n&&"border border-gray-200",m&&!c&&"cursor-pointer hover:shadow-md hover:border-gray-300 transition-all duration-200",c&&"opacity-50 cursor-not-allowed",a),onClick:m&&!c?m:void 0,...o,children:r})});g.displayName="Card",d.forwardRef((e,s)=>{let{className:a,children:r,...i}=e;return(0,t.jsx)("div",{ref:s,className:(0,p.cn)("flex flex-col space-y-1.5 pb-4 mb-4",a),...i,children:r})}).displayName="CardHeader",d.forwardRef((e,s)=>{let{className:a,children:r,size:i="md",...l}=e;return(0,t.jsx)("h3",{ref:s,className:(0,p.cn)({sm:"text-lg",md:"text-xl",lg:"text-2xl"}[i],"font-semibold leading-none tracking-tight text-gray-900",a),...l,children:r})}).displayName="CardTitle",d.forwardRef((e,s)=>{let{className:a,children:r,...i}=e;return(0,t.jsx)("p",{ref:s,className:(0,p.cn)("text-sm text-gray-500",a),...i,children:r})}).displayName="CardDescription",d.forwardRef((e,s)=>{let{className:a,children:r,...i}=e;return(0,t.jsx)("div",{ref:s,className:(0,p.cn)("pt-0",a),...i,children:r})}).displayName="CardContent",d.forwardRef((e,s)=>{let{className:a,children:r,...i}=e;return(0,t.jsx)("div",{ref:s,className:(0,p.cn)("flex items-center pt-4 mt-4 border-t border-gray-200",a),...i,children:r})}).displayName="CardFooter";let j=d.forwardRef((e,s)=>{let{className:a,label:r,error:i,helper:l,type:n="text",...c}=e,m=d.useId();return(0,t.jsxs)("div",{className:"space-y-1",children:[r&&(0,t.jsx)("label",{htmlFor:m,className:"block text-sm font-medium text-gray-700",children:r}),(0,t.jsx)("input",{id:m,type:n,className:(0,p.cn)("flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",i&&"border-red-500 focus-visible:ring-red-500",a),ref:s,...c}),i&&(0,t.jsx)("p",{className:"text-sm text-red-600",children:i}),l&&!i&&(0,t.jsx)("p",{className:"text-sm text-gray-500",children:l})]})});function b(e){let{size:s="md",className:a,text:r,center:i=!1}=e,l=(0,t.jsx)("div",{className:(0,p.cn)("animate-spin",{sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8"}[s]),children:(0,t.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})});return r?(0,t.jsxs)("div",{className:(0,p.cn)("flex items-center space-x-2",i&&"justify-center",a),children:[l,(0,t.jsx)("span",{className:"text-gray-600",children:r})]}):(0,t.jsx)("div",{className:(0,p.cn)(i&&"flex justify-center",a),children:l})}j.displayName="Input";var y=a(9788);let f=(0,y.Z)("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);var N=a(776),v=a(4964);function w(e){let{onMedicationSelect:s,selectedMedication:a}=e,[r,i]=(0,d.useState)(""),[l,n]=(0,d.useState)([]),[c,m]=(0,d.useState)([]),[o,x]=(0,d.useState)(!1),[h,u]=(0,d.useState)(!1);(0,d.useEffect)(()=>{n([{id:"med-1",name:"Humira",genericName:"adalimumab",strength:"40mg/0.8mL",dosageForm:"prefilled pen",manufacturer:"AbbVie",ndcNumber:"0074-3799-02",therapeuticClass:"TNF Inhibitor",indication:"Rheumatoid Arthritis",isFormulary:!1,requiresPA:!0},{id:"med-2",name:"Dupixent",genericName:"dupilumab",strength:"300mg/2mL",dosageForm:"prefilled syringe",manufacturer:"Sanofi",ndcNumber:"0024-5913-02",therapeuticClass:"IL-4/IL-13 Inhibitor",indication:"Atopic Dermatitis",isFormulary:!1,requiresPA:!0},{id:"med-3",name:"Otezla",genericName:"apremilast",strength:"30mg",dosageForm:"tablet",manufacturer:"Amgen",ndcNumber:"54092-515-14",therapeuticClass:"PDE4 Inhibitor",indication:"Psoriasis",isFormulary:!0,requiresPA:!0}])},[]),(0,d.useEffect)(()=>{r.length>0?(m(l.filter(e=>e.name.toLowerCase().includes(r.toLowerCase())||e.genericName.toLowerCase().includes(r.toLowerCase())||e.indication.toLowerCase().includes(r.toLowerCase()))),u(!0)):(m([]),u(!1))},[r,l]);let p=e=>{i(e.name),u(!1),s(e)};return(0,t.jsxs)(g,{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,t.jsx)(f,{className:"w-6 h-6 text-blue-500"}),(0,t.jsx)("h3",{className:"text-xl font-semibold",children:"Select Medication"})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(N.Z,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),(0,t.jsx)(j,{placeholder:"Search by medication name, generic name, or indication...",value:r,onChange:e=>i(e.target.value),className:"pl-10"})]}),h&&c.length>0&&(0,t.jsx)("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg",children:c.map(e=>(0,t.jsx)("button",{onClick:()=>p(e),className:"w-full p-4 text-left hover:bg-gray-50 border-b border-gray-100 last:border-b-0",children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-gray-900",children:e.name}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:[e.genericName," • ",e.strength," • ",e.dosageForm]}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:e.indication})]}),(0,t.jsxs)("div",{className:"flex flex-col items-end gap-1",children:[e.requiresPA&&(0,t.jsx)("span",{className:"text-xs bg-orange-100 text-orange-800 px-2 py-1 rounded",children:"Requires PA"}),e.isFormulary?(0,t.jsx)("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded",children:"Formulary"}):(0,t.jsx)("span",{className:"text-xs bg-red-100 text-red-800 px-2 py-1 rounded",children:"Non-Formulary"})]})]})},e.id))})]}),a&&(0,t.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(v.Z,{className:"w-5 h-5 text-blue-500 mt-0.5"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h4",{className:"font-medium text-blue-900",children:a.name}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-3 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Generic:"})," ",a.genericName]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Strength:"})," ",a.strength]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Form:"})," ",a.dosageForm]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Manufacturer:"})," ",a.manufacturer]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-medium",children:"NDC:"})," ",a.ndcNumber]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Class:"})," ",a.therapeuticClass]})]})]}),(0,t.jsxs)("div",{className:"flex gap-2 mt-3",children:[a.isFormulary?(0,t.jsx)("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded",children:"Formulary Medication"}):(0,t.jsx)("span",{className:"text-xs bg-red-100 text-red-800 px-2 py-1 rounded",children:"Non-Formulary"}),a.requiresPA&&(0,t.jsx)("span",{className:"text-xs bg-orange-100 text-orange-800 px-2 py-1 rounded",children:"Prior Authorization Required"})]})]})]})}),r&&0===c.length&&!o&&(0,t.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,t.jsx)(f,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),(0,t.jsxs)("p",{children:['No medications found for "',r,'"']}),(0,t.jsx)("p",{className:"text-sm",children:"Try searching by brand name, generic name, or indication"})]}),o&&(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(b,{className:"w-8 h-8 mx-auto mb-3"}),(0,t.jsx)("p",{className:"text-gray-500",children:"Searching medications..."})]})]})]})}let C=d.forwardRef((e,s)=>{let{className:a,variant:r="primary",size:i="md",loading:l,fullWidth:n=!1,leftIcon:d,rightIcon:c,children:m,disabled:o,...x}=e,h={sm:"w-3 h-3",md:"w-4 h-4",lg:"w-5 h-5"},u=o||l;return(0,t.jsxs)("button",{className:(0,p.cn)("inline-flex items-center justify-center font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 disabled:cursor-not-allowed",{primary:"bg-primary-600 hover:bg-primary-700 text-white focus:ring-primary-500 active:bg-primary-800",secondary:"bg-secondary-600 hover:bg-secondary-700 text-white focus:ring-secondary-500 active:bg-secondary-800",outline:"border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 focus:ring-primary-500 active:bg-gray-100",ghost:"text-gray-700 hover:bg-gray-100 focus:ring-gray-500 active:bg-gray-200",destructive:"bg-red-600 hover:bg-red-700 text-white focus:ring-red-500 active:bg-red-800",danger:"bg-red-600 hover:bg-red-700 text-white focus:ring-red-500 active:bg-red-800"}[r],{sm:"px-3 py-2 text-sm rounded-md min-h-[44px]",md:"px-4 py-3 text-sm rounded-lg min-h-[44px]",lg:"px-6 py-4 text-base rounded-lg min-h-[48px]"}[i],n&&"w-full",a),"aria-describedby":l?"".concat(x["aria-describedby"]||""," loading-indicator").trim():x["aria-describedby"],ref:s,disabled:u,...x,children:[l&&(0,t.jsxs)("svg",{className:(0,p.cn)(h[i],"animate-spin",(d||m)&&"mr-2"),viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),!l&&d&&(0,t.jsx)("span",{className:(0,p.cn)(h[i],m&&"mr-2"),"aria-hidden":"true",children:d}),m,!l&&c&&(0,t.jsx)("span",{className:(0,p.cn)(h[i],m&&"ml-2"),"aria-hidden":"true",children:c})]})});C.displayName="Button";var k=a(3616);let S=(0,y.Z)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);var P=a(2857);let A=(0,y.Z)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),_=(0,y.Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);function D(e){let{patientId:s,medicationId:a,onCoverageVerified:r}=e,[i,l]=(0,d.useState)(null),[n,c]=(0,d.useState)(null),[m,o]=(0,d.useState)(!1),[x,h]=(0,d.useState)(!1),[u,p]=(0,d.useState)("");(0,d.useEffect)(()=>{let e=async()=>{o(!0);try{await new Promise(e=>setTimeout(e,1e3)),l({planName:"Blue Cross Blue Shield Premium Plan",planType:"PPO",memberId:"BC123456789",groupNumber:"GRP001",effectiveDate:"2024-01-01",status:"active",copayAmount:25,deductible:1500,outOfPocketMax:8e3})}catch(e){p("Failed to load insurance information")}finally{o(!1)}};s&&e()},[s]);let j=async()=>{if(a&&i){h(!0),p("");try{await new Promise(e=>setTimeout(e,2e3));let e={isCovered:!0,requiresPA:!0,copayAmount:50,coinsurancePercent:20,deductibleApplies:!0,priorAuthStatus:"pending",limitations:["Must try formulary alternatives first","Requires dermatologist prescription","Limited to 30-day supply initially"],alternatives:["Methotrexate (preferred formulary)","Sulfasalazine (preferred formulary)","Leflunomide (non-preferred formulary)"]};c(e),r(e)}catch(e){p("Failed to verify coverage. Please try again.")}finally{h(!1)}}};return(0,t.jsxs)(g,{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,t.jsx)(A,{className:"w-6 h-6 text-blue-500"}),(0,t.jsx)("h3",{className:"text-xl font-semibold",children:"Insurance Verification"})]}),m?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(b,{className:"w-8 h-8 mx-auto mb-3"}),(0,t.jsx)("p",{className:"text-gray-500",children:"Loading insurance information..."})]}):i?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("h4",{className:"font-medium text-gray-900",children:"Primary Insurance"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(e=>{switch(e){case"active":return(0,t.jsx)(k.Z,{className:"w-5 h-5 text-green-500"});case"inactive":return(0,t.jsx)(S,{className:"w-5 h-5 text-red-500"});case"pending":return(0,t.jsx)(P.Z,{className:"w-5 h-5 text-yellow-500"});default:return(0,t.jsx)(P.Z,{className:"w-5 h-5 text-gray-500"})}})(i.status),(0,t.jsx)("span",{className:"text-sm font-medium capitalize",children:i.status})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Plan:"})," ",i.planName]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Type:"})," ",i.planType]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Member ID:"})," ",i.memberId]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Group:"})," ",i.groupNumber]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Effective:"})," ",new Date(i.effectiveDate).toLocaleDateString()]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Copay:"})," $",i.copayAmount]})]})]})]}),a&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h4",{className:"font-medium text-gray-900",children:"Medication Coverage"}),(0,t.jsx)(C,{onClick:j,disabled:x,variant:"outline",size:"sm",children:x?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(_,{className:"w-4 h-4 mr-2 animate-spin"}),"Verifying..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(A,{className:"w-4 h-4 mr-2"}),"Verify Coverage"]})})]}),x&&(0,t.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(b,{className:"w-5 h-5 text-blue-500"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-blue-900",children:"Verifying Coverage"}),(0,t.jsx)("p",{className:"text-sm text-blue-700",children:"Checking formulary status and prior authorization requirements..."})]})]})}),n&&(0,t.jsxs)("div",{className:"border rounded-lg p-4 ".concat(n.isCovered?"bg-green-50 border-green-200":"bg-red-50 border-red-200"),children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[n.isCovered?(0,t.jsx)(k.Z,{className:"w-6 h-6 text-green-500"}):(0,t.jsx)(S,{className:"w-6 h-6 text-red-500"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-gray-900",children:n.isCovered?"Medication is Covered":"Medication Not Covered"}),n.requiresPA&&(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Prior authorization required"})]})]}),n.isCovered&&(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Copay:"})," $",n.copayAmount]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Coinsurance:"})," ",n.coinsurancePercent,"%"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Deductible Applies:"})," ",n.deductibleApplies?"Yes":"No"]}),n.priorAuthStatus&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"font-medium",children:"PA Status:"}),(0,t.jsx)("span",{className:"text-xs px-2 py-1 rounded ".concat((e=>{switch(e){case"approved":return"bg-green-100 text-green-800";case"denied":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}})(n.priorAuthStatus)),children:n.priorAuthStatus.replace("_"," ").toUpperCase()})]})]})]}),n.limitations&&n.limitations.length>0&&(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("p",{className:"font-medium text-gray-900 mb-2",children:"Coverage Limitations:"}),(0,t.jsx)("ul",{className:"text-sm text-gray-700 space-y-1",children:n.limitations.map((e,s)=>(0,t.jsxs)("li",{className:"flex items-start gap-2",children:[(0,t.jsx)("span",{className:"text-orange-500 mt-1",children:"•"}),e]},s))})]}),n.alternatives&&n.alternatives.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-gray-900 mb-2",children:"Formulary Alternatives:"}),(0,t.jsx)("ul",{className:"text-sm text-gray-700 space-y-1",children:n.alternatives.map((e,s)=>(0,t.jsxs)("li",{className:"flex items-start gap-2",children:[(0,t.jsx)("span",{className:"text-blue-500 mt-1",children:"•"}),e]},s))})]})]}),u&&(0,t.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(S,{className:"w-5 h-5 text-red-500"}),(0,t.jsx)("p",{className:"text-red-800",children:u})]})})]}),!a&&(0,t.jsxs)("div",{className:"text-center py-4 text-gray-500",children:[(0,t.jsx)(A,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),(0,t.jsx)("p",{children:"Select a medication to verify coverage"})]})]}):(0,t.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,t.jsx)(A,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),(0,t.jsx)("p",{children:"No insurance information available"})]})]})}var F=a(7979);let I=(0,y.Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);var M=a(6069);function q(e){let{formData:s,onFormSubmit:a,onFormChange:r,isSubmitting:i=!1}=e,[l,n]=(0,d.useState)({}),[c,m]=(0,d.useState)({}),o=(e,s)=>{let a={...l,[e]:s};n(a),c[e]&&m(s=>({...s,[e]:""})),null==r||r(a)},x=(e,s)=>{if(e.required&&(!s||"string"==typeof s&&!s.trim()))return"".concat(e.label," is required");if(e.validation){let{minLength:a,maxLength:t,pattern:r}=e.validation;if(a&&"string"==typeof s&&s.length<a)return"".concat(e.label," must be at least ").concat(a," characters");if(t&&"string"==typeof s&&s.length>t)return"".concat(e.label," must be no more than ").concat(t," characters");if(r&&"string"==typeof s&&!new RegExp(r).test(s))return"".concat(e.label," format is invalid")}return""},h=()=>{let e={},a=!0;return s.forEach(s=>{s.fields.forEach(s=>{let t=x(s,l[s.id]);t&&(e[s.id]=t,a=!1)})}),m(e),a},u=e=>{var s,a;let r=l[e.id]||"",i=c[e.id];switch(e.type){case"text":return(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:[e.label,e.required&&(0,t.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,t.jsx)(j,{placeholder:e.placeholder,value:r,onChange:s=>o(e.id,s.target.value),error:i||void 0}),i&&(0,t.jsx)("p",{className:"text-sm text-red-600",children:i})]},e.id);case"textarea":return(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:[e.label,e.required&&(0,t.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,t.jsx)("textarea",{className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(i?"border-red-300":"border-gray-300"),rows:4,placeholder:e.placeholder,value:r,onChange:s=>o(e.id,s.target.value)}),i&&(0,t.jsx)("p",{className:"text-sm text-red-600",children:i})]},e.id);case"select":return(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:[e.label,e.required&&(0,t.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,t.jsxs)("select",{className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(i?"border-red-300":"border-gray-300"),value:r,onChange:s=>o(e.id,s.target.value),children:[(0,t.jsxs)("option",{value:"",children:["Select ",e.label]}),null===(s=e.options)||void 0===s?void 0:s.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]}),i&&(0,t.jsx)("p",{className:"text-sm text-red-600",children:i})]},e.id);case"checkbox":return(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("label",{className:"flex items-center space-x-3",children:[(0,t.jsx)("input",{type:"checkbox",checked:!!r,onChange:s=>o(e.id,s.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,t.jsxs)("span",{className:"text-sm text-gray-700",children:[e.label,e.required&&(0,t.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]})]}),i&&(0,t.jsx)("p",{className:"text-sm text-red-600",children:i})]},e.id);case"radio":return(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:[e.label,e.required&&(0,t.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,t.jsx)("div",{className:"space-y-2",children:null===(a=e.options)||void 0===a?void 0:a.map(s=>(0,t.jsxs)("label",{className:"flex items-center space-x-3",children:[(0,t.jsx)("input",{type:"radio",name:e.id,value:s,checked:r===s,onChange:s=>o(e.id,s.target.value),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),(0,t.jsx)("span",{className:"text-sm text-gray-700",children:s})]},s))}),i&&(0,t.jsx)("p",{className:"text-sm text-red-600",children:i})]},e.id);case"date":return(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:[e.label,e.required&&(0,t.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(F.Z,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),(0,t.jsx)("input",{type:"date",className:"w-full pl-10 pr-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(i?"border-red-300":"border-gray-300"),value:r,onChange:s=>o(e.id,s.target.value)})]}),i&&(0,t.jsx)("p",{className:"text-sm text-red-600",children:i})]},e.id);case"file":return(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:[e.label,e.required&&(0,t.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,t.jsxs)("div",{className:"border-2 border-dashed rounded-lg p-6 text-center ".concat(i?"border-red-300":"border-gray-300"),children:[(0,t.jsx)(I,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.placeholder||"Click to upload or drag and drop"}),(0,t.jsx)("input",{type:"file",className:"hidden",id:"file-".concat(e.id),onChange:s=>{var a;let t=null===(a=s.target.files)||void 0===a?void 0:a[0];t&&o(e.id,t.name)}}),(0,t.jsx)("label",{htmlFor:"file-".concat(e.id),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 cursor-pointer",children:"Choose File"}),r&&(0,t.jsxs)("p",{className:"text-sm text-gray-600 mt-2",children:["Selected: ",r]})]}),i&&(0,t.jsx)("p",{className:"text-sm text-red-600",children:i})]},e.id);default:return null}};return(0,t.jsxs)(g,{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,t.jsx)(M.Z,{className:"w-6 h-6 text-blue-500"}),(0,t.jsx)("h3",{className:"text-xl font-semibold",children:"Prior Authorization Form"})]}),(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),h()&&a(l)},className:"space-y-8",children:[s.map(e=>(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"border-b border-gray-200 pb-4",children:[(0,t.jsx)("h4",{className:"text-lg font-medium text-gray-900",children:e.title}),e.description&&(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.description})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.fields.map(u)})]},e.id)),(0,t.jsxs)("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-200",children:[(0,t.jsx)(C,{type:"button",variant:"outline",children:"Save as Draft"}),(0,t.jsx)(C,{type:"submit",disabled:i,children:i?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(b,{className:"w-4 h-4 mr-2"}),"Submitting..."]}):"Submit Authorization"})]})]})]})}var z=a(6052);let R=(0,y.Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]),L=(0,y.Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Z=(0,y.Z)("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);function E(e){let{patient:s,medication:a,insurance:r,formData:i,onEdit:l,onSubmit:n,onDownload:d,isSubmitting:c=!1}=e,m=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),o=e=>"boolean"==typeof e?e?"Yes":"No":Array.isArray(e)?e.join(", "):"string"==typeof e&&e.includes("-")&&10===e.length?m(e):String(e||"Not provided");return(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)(g,{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,t.jsx)(M.Z,{className:"w-6 h-6 text-blue-500"}),(0,t.jsx)("h3",{className:"text-xl font-semibold",children:"Prior Authorization Preview"})]}),(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)(z.Z,{className:"w-5 h-5 text-gray-600"}),(0,t.jsx)("h4",{className:"text-lg font-medium text-gray-900",children:"Patient Information"})]}),(0,t.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Name:"})," ",s.name]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Date of Birth:"})," ",m(s.dateOfBirth)]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Member ID:"})," ",s.memberId]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Patient ID:"})," ",s.id]})]})]})})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)(f,{className:"w-5 h-5 text-gray-600"}),(0,t.jsx)("h4",{className:"text-lg font-medium text-gray-900",children:"Requested Medication"})]}),(0,t.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Brand Name:"})," ",a.name]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Generic Name:"})," ",a.genericName]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Strength:"})," ",a.strength]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Dosage Form:"})," ",a.dosageForm]})]})]})})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)(A,{className:"w-5 h-5 text-gray-600"}),(0,t.jsx)("h4",{className:"text-lg font-medium text-gray-900",children:"Insurance Information"})]}),(0,t.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Plan Name:"})," ",r.planName]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Member ID:"})," ",r.memberId]})]}),(0,t.jsx)("div",{children:(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Group Number:"})," ",r.groupNumber]})})]})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Authorization Details"}),(0,t.jsx)("div",{className:"space-y-4",children:Object.entries(i).map(e=>{let[s,a]=e;if(!a||"string"==typeof a&&!a.trim())return null;let r=s.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase()).trim();return(0,t.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"font-medium text-gray-900",children:[r,":"]}),(0,t.jsx)("div",{className:"col-span-2 text-gray-700",children:o(a)})]})},s)})})]}),(0,t.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,t.jsx)("h4",{className:"text-lg font-medium text-blue-900 mb-2",children:"Authorization Summary"}),(0,t.jsxs)("div",{className:"text-sm text-blue-800 space-y-1",children:[(0,t.jsxs)("p",{children:["• Patient: ",s.name," (DOB: ",m(s.dateOfBirth),")"]}),(0,t.jsxs)("p",{children:["• Medication: ",a.name," (",a.genericName,") - ",a.strength]}),(0,t.jsxs)("p",{children:["• Insurance: ",r.planName]}),(0,t.jsxs)("p",{children:["• Form completed on: ",m(new Date().toISOString())]})]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center pt-6 border-t border-gray-200",children:[(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)(C,{onClick:l,variant:"outline",children:[(0,t.jsx)(R,{className:"w-4 h-4 mr-2"}),"Edit Form"]}),(0,t.jsxs)(C,{onClick:d,variant:"outline",children:[(0,t.jsx)(L,{className:"w-4 h-4 mr-2"}),"Download PDF"]})]}),(0,t.jsx)(C,{onClick:n,disabled:c,children:c?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-4 h-4 mr-2 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Submitting..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(Z,{className:"w-4 h-4 mr-2"}),"Submit Authorization"]})})]}),(0,t.jsxs)("div",{className:"text-xs text-gray-500 bg-gray-50 p-3 rounded-lg",children:[(0,t.jsx)("p",{className:"font-medium mb-1",children:"Important Notes:"}),(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:"• This prior authorization will be submitted electronically to the insurance provider"}),(0,t.jsx)("li",{children:"• Processing typically takes 24-72 hours"}),(0,t.jsx)("li",{children:"• You will receive email notifications about status updates"}),(0,t.jsx)("li",{children:"• A copy will be saved to the patient's medical record"})]})]})]})]})})}function B(e){let{initialStep:s,authorizationId:a}=e,r=(0,l.useRouter)(),[i,n]=(0,d.useState)(0),[m,o]=(0,d.useState)({patient:null,medication:null,insurance:null,formData:{}}),x=[{id:"patient",title:"Select Patient",description:"Search and select the patient for this authorization",component:u,completed:!!m.patient},{id:"medication",title:"Choose Medication",description:"Select the medication requiring authorization",component:w,completed:!!m.medication},{id:"insurance",title:"Insurance Information",description:"Verify insurance details and requirements",component:D,completed:!!m.insurance},{id:"form",title:"Authorization Form",description:"Complete the authorization request form",component:q,completed:Object.keys(m.formData).length>0},{id:"preview",title:"Review & Submit",description:"Review your request before submission",component:E,completed:!1}];(0,d.useEffect)(()=>{if(s){let e=x.findIndex(e=>e.id===s);-1!==e&&n(e)}},[s]),(0,d.useEffect)(()=>{let e=x[i];e&&r.replace("/create?step=".concat(e.id),void 0,{shallow:!0})},[i,r]);let h=()=>x[i].completed,p=e=>{x[e];let s=x[i];(e<=i||e===i+1&&s.completed)&&n(e)},g=x[i],j=g.component;return(0,t.jsxs)("div",{className:"bg-white shadow-sm rounded-lg",children:[(0,t.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,t.jsx)("nav",{"aria-label":"Progress",children:(0,t.jsx)("ol",{className:"flex items-center justify-between",children:x.map((e,s)=>(0,t.jsxs)("li",{className:"relative ".concat(s!==x.length-1?"pr-8 sm:pr-20":""),children:[s!==x.length-1&&(0,t.jsx)("div",{className:"absolute inset-0 flex items-center","aria-hidden":"true",children:(0,t.jsx)("div",{className:"h-0.5 w-full ".concat(s<i?"bg-blue-600":"bg-gray-200")})}),(0,t.jsx)("button",{type:"button",onClick:()=>p(s),className:"relative w-8 h-8 flex items-center justify-center rounded-full border-2 ".concat(s<i?"bg-blue-600 border-blue-600 hover:bg-blue-700":s===i?"border-blue-600 bg-white text-blue-600":e.completed&&s===i+1?"border-blue-600 bg-white text-blue-600 hover:border-blue-700":"border-gray-300 bg-white text-gray-400"," ").concat(s<=i||s===i+1&&x[i].completed?"cursor-pointer":"cursor-not-allowed"),disabled:s>i&&!(s===i+1&&x[i].completed),children:s<i?(0,t.jsx)("svg",{className:"w-5 h-5 text-white",viewBox:"0 0 20 20",fill:"currentColor",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):(0,t.jsx)("span",{className:"text-sm font-medium",children:s+1})}),(0,t.jsxs)("div",{className:"absolute top-10 left-1/2 transform -translate-x-1/2 w-32 text-center",children:[(0,t.jsx)("div",{className:"text-xs font-medium text-gray-900",children:e.title}),(0,t.jsx)("div",{className:"text-xs text-gray-500 hidden sm:block",children:e.description})]})]},e.id))})})}),(0,t.jsxs)("div",{className:"px-6 py-8",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:g.title}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:g.description})]}),(0,t.jsx)(j,{data:m,onDataChange:(e,s)=>{o(a=>({...a,[e]:s}))},onFormDataChange:e=>{o(s=>({...s,formData:e}))},authorizationId:a})]}),(0,t.jsxs)("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex items-center justify-between",children:[(0,t.jsxs)("button",{type:"button",onClick:()=>{i>0&&n(e=>e-1)},disabled:0===i,className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,t.jsx)(c.wy,{className:"w-4 h-4 mr-2"}),"Previous"]}),(0,t.jsx)("div",{className:"flex items-center space-x-2",children:(0,t.jsxs)("span",{className:"text-sm text-gray-500",children:["Step ",i+1," of ",x.length]})}),(0,t.jsxs)("button",{type:"button",onClick:()=>{i<x.length-1&&h()&&n(e=>e+1)},disabled:!h()||i===x.length-1,className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:["Next",(0,t.jsx)(c.XC,{className:"w-4 h-4 ml-2"})]})]})]})}function T(){let{step:e}=(0,l.useRouter)().query;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(i(),{children:[(0,t.jsx)("title",{children:"Create Authorization - Medication Authorization Assistant"}),(0,t.jsx)("meta",{name:"description",content:"Create new medication authorization request with AI assistance"}),(0,t.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})]}),(0,t.jsx)(n.A,{children:(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,t.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"py-6",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl",children:"Create New Authorization"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"AI-powered medication authorization wizard"})]})})}),(0,t.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,t.jsx)(B,{initialStep:e})})]})})]})}}},function(e){e.O(0,[565,19,74,888,774,179],function(){return e(e.s=9261)}),_N_E=e.O()}]);