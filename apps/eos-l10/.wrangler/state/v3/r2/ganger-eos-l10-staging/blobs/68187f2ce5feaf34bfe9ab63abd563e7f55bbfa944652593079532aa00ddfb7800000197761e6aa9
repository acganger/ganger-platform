(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[603],{1524:function(e,t,s){"use strict";s.d(t,{Z:function(){return c}});var a=s(4194),r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),c=(e,t)=>{let s=(0,a.forwardRef)(({color:s="currentColor",size:c=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:d="",children:o,...x},u)=>(0,a.createElement)("svg",{ref:u,...r,width:c,height:c,stroke:s,strokeWidth:i?24*Number(l)/Number(c):l,className:["lucide",`lucide-${n(e)}`,d].join(" "),...x},[...t.map(([e,t])=>(0,a.createElement)(e,t)),...Array.isArray(o)?o:[o]]));return s.displayName=`${e}`,s}},6159:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(1524).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},8016:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(1524).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},274:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(1524).Z)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},4967:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(1524).Z)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]])},4864:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(1524).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},1925:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(1524).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},7297:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(1524).Z)("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]])},8991:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(1524).Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},474:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(1524).Z)("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},2473:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(1524).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},3795:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(1524).Z)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]])},4064:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(1524).Z)("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]])},3017:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(1524).Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]])},7982:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(1524).Z)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]])},2122:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(1524).Z)("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]])},3186:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(1524).Z)("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]])},8133:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(1524).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},1362:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(1524).Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},3491:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(1524).Z)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},2977:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(1524).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},6072:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(1524).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},3247:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(1524).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},6247:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(1524).Z)("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]])},3272:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(1524).Z)("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]])},2767:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(1524).Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},6637:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(1524).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},7129:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/rocks/[id]",function(){return s(5283)}])},2619:function(e,t,s){"use strict";s.d(t,{AJ:function(){return i},ZP:function(){return l}});var a=s(1549),r=s(4168),n=s(474),c=s(3247);function l(e){let{page:t="dashboard",showCount:s=!0,showAvatars:l=!0,maxAvatars:i=5}=e,{onlineUsers:d}=(0,r.o)(t);if(0===d.length)return null;let o=d.slice(0,i),x=Math.max(0,d.length-i);return(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[l&&(0,a.jsxs)("div",{className:"flex -space-x-2",children:[o.map(e=>(0,a.jsxs)("div",{className:"relative",title:"".concat(e.full_name," - ").concat(e.page),children:[e.avatar_url?(0,a.jsx)("img",{src:e.avatar_url,alt:e.full_name,className:"w-8 h-8 rounded-full border-2 border-white bg-gray-100"}):(0,a.jsx)("div",{className:"w-8 h-8 rounded-full border-2 border-white bg-eos-100 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-xs font-medium text-eos-700",children:e.full_name.charAt(0).toUpperCase()})}),(0,a.jsx)("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-green-400 border-2 border-white rounded-full"})]},e.user_id)),x>0&&(0,a.jsx)("div",{className:"w-8 h-8 rounded-full border-2 border-white bg-gray-200 flex items-center justify-center",children:(0,a.jsxs)("span",{className:"text-xs font-medium text-gray-600",children:["+",x]})})]}),s&&(0,a.jsxs)("div",{className:"flex items-center space-x-1 text-sm text-gray-600",children:[(0,a.jsx)(n.Z,{className:"w-2 h-2 fill-green-400 text-green-400"}),(0,a.jsxs)("span",{children:[d.length," online"]})]}),!l&&(0,a.jsxs)("div",{className:"flex items-center space-x-1 text-sm text-gray-600",children:[(0,a.jsx)(c.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:d.length})]})]})}function i(){let{onlineUsers:e}=(0,r.o)();return(0,a.jsxs)("div",{className:"hidden sm:flex items-center space-x-3 bg-white rounded-lg px-3 py-2 shadow-sm border",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(n.Z,{className:"w-2 h-2 fill-green-400 text-green-400"}),(0,a.jsxs)("span",{className:"text-sm text-gray-600 font-medium",children:[e.length," team member",1!==e.length?"s":""," online"]})]}),e.length>0&&(0,a.jsxs)("div",{className:"flex -space-x-2",children:[e.slice(0,3).map(e=>(0,a.jsx)("div",{className:"relative",title:e.full_name,children:e.avatar_url?(0,a.jsx)("img",{src:e.avatar_url,alt:e.full_name,className:"w-6 h-6 rounded-full border-2 border-white"}):(0,a.jsx)("div",{className:"w-6 h-6 rounded-full border-2 border-white bg-eos-100 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-xs font-medium text-eos-700",children:e.full_name.charAt(0).toUpperCase()})})},e.user_id)),e.length>3&&(0,a.jsx)("div",{className:"w-6 h-6 rounded-full border-2 border-white bg-gray-200 flex items-center justify-center",children:(0,a.jsxs)("span",{className:"text-xs font-medium text-gray-600",children:["+",e.length-3]})})]})]})}},4168:function(e,t,s){"use strict";s.d(t,{o:function(){return c}});var a=s(4194),r=s(1700),n=s(3459);function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"dashboard",{user:t,activeTeam:s}=(0,r.aC)(),[c,l]=(0,a.useState)([]),[i,d]=(0,a.useState)(null);return(0,a.useEffect)(()=>{if(!t||!s)return;let a="team-".concat(s.id),r=n.OQ.channel(a,{config:{presence:{key:t.id}}}),c=()=>{var s,a;let n={user_id:t.id,email:t.email||"",full_name:(null===(s=t.user_metadata)||void 0===s?void 0:s.full_name)||t.email||"",avatar_url:null===(a=t.user_metadata)||void 0===a?void 0:a.avatar_url,page:e,last_seen:new Date().toISOString()};d(n),r.track(n)};r.on("presence",{event:"sync"},()=>{let e=r.presenceState(),s=[];Object.keys(e).forEach(t=>{let a=e[t];if(a&&a.length>0){let e=a.reduce((e,t)=>{let s=t.last_seen||new Date().toISOString(),a=e.last_seen||new Date().toISOString();return new Date(s)>new Date(a)?t:e});s.push(e)}}),l(s.filter(e=>e.user_id!==(null==t?void 0:t.id)).sort((e,t)=>new Date(t.last_seen||new Date).getTime()-new Date(e.last_seen||new Date).getTime()))}).on("presence",{event:"join"},e=>{let{key:t,newPresences:s}=e}).on("presence",{event:"leave"},e=>{let{key:t,leftPresences:s}=e}).subscribe(async e=>{"SUBSCRIBED"===e&&c()});let i=setInterval(()=>{"joined"===r.state&&c()},3e4),o=()=>{"visible"===document.visibilityState&&c()};return document.addEventListener("visibilitychange",o),()=>{clearInterval(i),document.removeEventListener("visibilitychange",o),n.OQ.removeChannel(r)}},[t,s,e]),{onlineUsers:c,myPresence:i}}},5283:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return Z}});var a=s(1549),r=s(4194),n=s(55),c=s.n(n),l=s(6393),i=s(5560),d=s(1700),o=s(4168),x=s(3459),u=s(755),m=s(2619),h=s(1925),y=s(2977),f=s(6159),p=s(7982),j=s(2767),g=s(3491),v=s(8016),k=s(2122),N=s(6072),w=s(4864),b=s(2473);function Z(){var e,t;let{id:s}=(0,l.useRouter)().query,{activeTeam:n,user:Z,userRole:_}=(0,d.aC)(),{onlineUsers:M}=(0,o.o)("rock-".concat(s)),[C,S]=(0,r.useState)(null),[D,q]=(0,r.useState)(!0),[P,z]=(0,r.useState)(null),[E,L]=(0,r.useState)(!1),[O,U]=(0,r.useState)(0),[A,R]=(0,r.useState)("not_started");(0,r.useEffect)(()=>{s&&n&&T()},[s,n]);let T=async()=>{if(s&&n)try{q(!0),z(null);let{data:e,error:t}=await x.OQ.from("rocks").select("\n          *,\n          owner:users(full_name, email, avatar_url)\n        ").eq("id",s).eq("team_id",n.id).single();if(t){if("PGRST116"===t.code)z("Rock not found");else throw t;return}S(e),U(e.completion_percentage),R(e.status)}catch(e){z(e instanceof Error?e.message:"Failed to load rock")}finally{q(!1)}},H=async()=>{if(C&&!E){L(!0);try{let{error:e}=await x.OQ.from("rocks").update({completion_percentage:O,status:A,updated_at:new Date().toISOString()}).eq("id",C.id);if(e)throw e;S({...C,completion_percentage:O,status:A})}catch(e){alert("Failed to update progress. Please try again.")}finally{L(!1)}}},I=e=>{switch(e){case"complete":return(0,a.jsx)(h.Z,{className:"h-5 w-5 text-green-600"});case"on_track":return(0,a.jsx)(y.Z,{className:"h-5 w-5 text-green-600"});case"off_track":return(0,a.jsx)(f.Z,{className:"h-5 w-5 text-red-600"});case"not_started":return(0,a.jsx)(p.Z,{className:"h-5 w-5 text-gray-600"});default:return(0,a.jsx)(j.Z,{className:"h-5 w-5 text-gray-600"})}};if(D)return(0,a.jsx)(d.a1,{children:(0,a.jsx)(d.P6,{children:(0,a.jsx)(u.Z,{children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,a.jsx)("div",{className:"skeleton h-8 w-64"}),(0,a.jsx)("div",{className:"card",children:(0,a.jsxs)("div",{className:"card-content space-y-4",children:[(0,a.jsx)("div",{className:"skeleton h-6 w-full"}),(0,a.jsx)("div",{className:"skeleton h-4 w-3/4"}),(0,a.jsx)("div",{className:"skeleton h-32 w-full"})]})})]})})})});if(P||!C)return(0,a.jsx)(d.a1,{children:(0,a.jsx)(d.P6,{children:(0,a.jsx)(u.Z,{children:(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(g.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-2",children:P||"Rock not found"}),(0,a.jsx)(i.Z,{href:"/rocks",className:"btn-primary",children:"Back to Rocks"})]})})})});let V=(e=>{let t=new Date(e),s=new Date;return Math.ceil((t.getTime()-s.getTime())/864e5)})(C.due_date),B=V<0;return(0,a.jsx)(d.a1,{children:(0,a.jsx)(d.P6,{children:(0,a.jsxs)("div",{children:[(0,a.jsxs)(c(),{children:[(0,a.jsxs)("title",{children:[C.title," - Rocks - EOS L10 Platform"]}),(0,a.jsx)("meta",{name:"description",content:"Rock details: ".concat(C.title)})]}),(0,a.jsx)(u.Z,{children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)(i.Z,{href:"/rocks",className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:(0,a.jsx)(v.Z,{className:"h-5 w-5"})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[(0,a.jsx)(g.Z,{className:"h-6 w-6 mr-2 text-eos-600"}),C.title]}),(0,a.jsxs)("p",{className:"text-gray-600 mt-1",children:[C.quarter," â€¢ Priority #",C.priority]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(m.ZP,{page:"rock-".concat(C.id)}),("leader"===_||"member"===_)&&(0,a.jsxs)(i.Z,{href:"/rocks/".concat(C.id,"/edit"),className:"btn-secondary flex items-center",children:[(0,a.jsx)(k.Z,{className:"h-4 w-4 mr-2"}),"Edit"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[C.description&&(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("div",{className:"card-header",children:(0,a.jsx)("h3",{className:"card-title",children:"Description"})}),(0,a.jsx)("div",{className:"card-content",children:(0,a.jsx)("p",{className:"text-gray-700 whitespace-pre-wrap",children:C.description})})]}),("leader"===_||"member"===_)&&(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("div",{className:"card-header",children:(0,a.jsx)("h3",{className:"card-title",children:"Update Progress"})}),(0,a.jsxs)("div",{className:"card-content space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Completion Percentage: ",O,"%"]}),(0,a.jsx)("input",{type:"range",min:"0",max:"100",value:O,onChange:e=>U(parseInt(e.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider"}),(0,a.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[(0,a.jsx)("span",{children:"0%"}),(0,a.jsx)("span",{children:"25%"}),(0,a.jsx)("span",{children:"50%"}),(0,a.jsx)("span",{children:"75%"}),(0,a.jsx)("span",{children:"100%"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:["not_started","on_track","off_track","complete"].map(e=>(0,a.jsxs)("button",{onClick:()=>R(e),className:"p-3 rounded-lg border text-sm font-medium flex items-center justify-center space-x-2 ".concat(A===e?"border-eos-500 bg-eos-50 text-eos-700":"border-gray-200 text-gray-700 hover:bg-gray-50"),children:[I(e),(0,a.jsx)("span",{className:"capitalize",children:e.replace("_"," ")})]},e))})]}),(O!==C.completion_percentage||A!==C.status)&&(0,a.jsx)("button",{onClick:H,disabled:E,className:"btn-primary w-full",children:E?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Updating..."]}):"Update Progress"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("div",{className:"card-header",children:(0,a.jsx)("h3",{className:"card-title",children:"Progress Overview"})}),(0,a.jsxs)("div",{className:"card-content space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm mb-2",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Completion"}),(0,a.jsxs)("span",{className:"font-bold text-lg",children:[C.completion_percentage,"%"]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3",children:(0,a.jsx)("div",{className:"h-3 rounded-full transition-all duration-300 ".concat((t=C.completion_percentage,"complete"===C.status?"bg-blue-500":t>=75?"bg-green-500":t>=50?"bg-yellow-500":"bg-red-500")),style:{width:"".concat(C.completion_percentage,"%")}})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Status"}),(0,a.jsxs)("div",{className:"px-3 py-1 rounded-full text-sm font-medium flex items-center ".concat((e=>{switch(e){case"complete":case"on_track":return"bg-green-100 text-green-800";case"off_track":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}})(C.status)),children:[I(C.status),(0,a.jsx)("span",{className:"ml-1 capitalize",children:C.status.replace("_"," ")})]})]})]})]}),(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("div",{className:"card-header",children:(0,a.jsx)("h3",{className:"card-title",children:"Details"})}),(0,a.jsxs)("div",{className:"card-content space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(N.Z,{className:"h-5 w-5 text-gray-400"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:(null===(e=C.owner)||void 0===e?void 0:e.full_name)||"Unknown"}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Rock Owner"})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(w.Z,{className:"h-5 w-5 text-gray-400"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium ".concat(B?"text-red-600":"text-gray-900"),children:new Date(C.due_date).toLocaleDateString()}),(0,a.jsx)("div",{className:"text-xs ".concat(B?"text-red-500":"text-gray-500"),children:B?"".concat(Math.abs(V)," days overdue"):0===V?"Due today":"".concat(V," days remaining")})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(y.Z,{className:"h-5 w-5 text-gray-400"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:C.quarter}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Quarter"})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(b.Z,{className:"h-5 w-5 text-gray-400"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:new Date(C.updated_at).toLocaleDateString()}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Last updated"})]})]})]})]}),M.length>0&&(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("div",{className:"card-header",children:(0,a.jsx)("h3",{className:"card-title",children:"Active Collaborators"})}),(0,a.jsx)("div",{className:"card-content",children:(0,a.jsx)("div",{className:"space-y-2",children:M.map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[e.avatar_url?(0,a.jsx)("img",{src:e.avatar_url,alt:e.full_name,className:"w-8 h-8 rounded-full"}):(0,a.jsx)("div",{className:"w-8 h-8 bg-eos-100 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-sm font-medium text-eos-700",children:e.full_name.charAt(0).toUpperCase()})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900 truncate",children:e.full_name}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Viewing this rock"})]}),(0,a.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full"})]},e.user_id))})})]})]})]})]})})]})})})}},6393:function(e,t,s){e.exports=s(6856)}},function(e){e.O(0,[755,888,774,179],function(){return e(e.s=7129)}),_N_E=e.O()}]);