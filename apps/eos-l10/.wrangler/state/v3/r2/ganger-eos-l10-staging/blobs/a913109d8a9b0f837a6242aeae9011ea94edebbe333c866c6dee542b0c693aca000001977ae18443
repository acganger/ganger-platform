(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[603],{9284:function(e,t,s){"use strict";s.d(t,{Z:function(){return u}});var a=s(4194);let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),c=e=>{let t=n(e);return t.charAt(0).toUpperCase()+t.slice(1)},l=(...e)=>e.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim(),i=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,a.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:n="",children:c,iconNode:o,...u},h)=>(0,a.createElement)("svg",{ref:h,...d,width:t,height:t,stroke:e,strokeWidth:r?24*Number(s)/Number(t):s,className:l("lucide",n),...!c&&!i(u)&&{"aria-hidden":"true"},...u},[...o.map(([e,t])=>(0,a.createElement)(e,t)),...Array.isArray(c)?c:[c]])),u=(e,t)=>{let s=(0,a.forwardRef)(({className:s,...n},i)=>(0,a.createElement)(o,{ref:i,iconNode:t,className:l(`lucide-${r(c(e))}`,`lucide-${e}`,s),...n}));return s.displayName=c(e),s}},2342:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9284).Z)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},7107:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9284).Z)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]])},96:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9284).Z)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},8504:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9284).Z)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},4776:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9284).Z)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},4916:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9284).Z)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},3616:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9284).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},2022:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9284).Z)("circle-play",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]])},7991:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9284).Z)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},8107:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9284).Z)("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},6698:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9284).Z)("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},838:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9284).Z)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},3212:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9284).Z)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]])},4041:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9284).Z)("menu",[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]])},3843:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9284).Z)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]])},675:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9284).Z)("pen-line",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]])},4572:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9284).Z)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},4272:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9284).Z)("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},8534:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9284).Z)("square-check-big",[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},2802:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9284).Z)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},361:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9284).Z)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},119:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9284).Z)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},5985:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9284).Z)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},2888:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9284).Z)("wifi-off",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},7247:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9284).Z)("wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]])},1335:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9284).Z)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},7129:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/rocks/[id]",function(){return s(5283)}])},2619:function(e,t,s){"use strict";s.d(t,{AJ:function(){return i},ZP:function(){return l}});var a=s(1549),r=s(4168),n=s(8107),c=s(5985);function l(e){let{page:t="dashboard",showCount:s=!0,showAvatars:l=!0,maxAvatars:i=5}=e,{onlineUsers:d}=(0,r.o)(t);if(0===d.length)return null;let o=d.slice(0,i),u=Math.max(0,d.length-i);return(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[l&&(0,a.jsxs)("div",{className:"flex -space-x-2",children:[o.map(e=>(0,a.jsxs)("div",{className:"relative",title:"".concat(e.full_name," - ").concat(e.page),children:[e.avatar_url?(0,a.jsx)("img",{src:e.avatar_url,alt:e.full_name,className:"w-8 h-8 rounded-full border-2 border-white bg-gray-100"}):(0,a.jsx)("div",{className:"w-8 h-8 rounded-full border-2 border-white bg-eos-100 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-xs font-medium text-eos-700",children:e.full_name.charAt(0).toUpperCase()})}),(0,a.jsx)("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-green-400 border-2 border-white rounded-full"})]},e.user_id)),u>0&&(0,a.jsx)("div",{className:"w-8 h-8 rounded-full border-2 border-white bg-gray-200 flex items-center justify-center",children:(0,a.jsxs)("span",{className:"text-xs font-medium text-gray-600",children:["+",u]})})]}),s&&(0,a.jsxs)("div",{className:"flex items-center space-x-1 text-sm text-gray-600",children:[(0,a.jsx)(n.Z,{className:"w-2 h-2 fill-green-400 text-green-400"}),(0,a.jsxs)("span",{children:[d.length," online"]})]}),!l&&(0,a.jsxs)("div",{className:"flex items-center space-x-1 text-sm text-gray-600",children:[(0,a.jsx)(c.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:d.length})]})]})}function i(){let{onlineUsers:e}=(0,r.o)();return(0,a.jsxs)("div",{className:"hidden sm:flex items-center space-x-3 bg-white rounded-lg px-3 py-2 shadow-sm border",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(n.Z,{className:"w-2 h-2 fill-green-400 text-green-400"}),(0,a.jsxs)("span",{className:"text-sm text-gray-600 font-medium",children:[e.length," team member",1!==e.length?"s":""," online"]})]}),e.length>0&&(0,a.jsxs)("div",{className:"flex -space-x-2",children:[e.slice(0,3).map(e=>(0,a.jsx)("div",{className:"relative",title:e.full_name,children:e.avatar_url?(0,a.jsx)("img",{src:e.avatar_url,alt:e.full_name,className:"w-6 h-6 rounded-full border-2 border-white"}):(0,a.jsx)("div",{className:"w-6 h-6 rounded-full border-2 border-white bg-eos-100 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-xs font-medium text-eos-700",children:e.full_name.charAt(0).toUpperCase()})})},e.user_id)),e.length>3&&(0,a.jsx)("div",{className:"w-6 h-6 rounded-full border-2 border-white bg-gray-200 flex items-center justify-center",children:(0,a.jsxs)("span",{className:"text-xs font-medium text-gray-600",children:["+",e.length-3]})})]})]})}},4168:function(e,t,s){"use strict";s.d(t,{o:function(){return c}});var a=s(4194),r=s(1700),n=s(1774);function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"dashboard",{user:t,activeTeam:s}=(0,r.aC)(),[c,l]=(0,a.useState)([]),[i,d]=(0,a.useState)(null);return(0,a.useEffect)(()=>{if(!t||!s)return;let a="team-".concat(s.id),r=n.OQ.channel(a,{config:{presence:{key:t.id}}}),c=()=>{var s,a;let n={user_id:t.id,email:t.email||"",full_name:(null===(s=t.user_metadata)||void 0===s?void 0:s.full_name)||t.email||"",avatar_url:null===(a=t.user_metadata)||void 0===a?void 0:a.avatar_url,page:e,last_seen:new Date().toISOString()};d(n),r.track(n)};r.on("presence",{event:"sync"},()=>{let e=r.presenceState(),s=[];Object.keys(e).forEach(t=>{let a=e[t];if(a&&a.length>0){let e=a.reduce((e,t)=>{let s=t.last_seen||new Date().toISOString(),a=e.last_seen||new Date().toISOString();return new Date(s)>new Date(a)?t:e});s.push(e)}}),l(s.filter(e=>e.user_id!==(null==t?void 0:t.id)).sort((e,t)=>new Date(t.last_seen||new Date).getTime()-new Date(e.last_seen||new Date).getTime()))}).on("presence",{event:"join"},e=>{let{key:t,newPresences:s}=e}).on("presence",{event:"leave"},e=>{let{key:t,leftPresences:s}=e}).subscribe(async e=>{"SUBSCRIBED"===e&&c()});let i=setInterval(()=>{"joined"===r.state&&c()},3e4),o=()=>{"visible"===document.visibilityState&&c()};return document.addEventListener("visibilitychange",o),()=>{clearInterval(i),document.removeEventListener("visibilitychange",o),n.OQ.removeChannel(r)}},[t,s,e]),{onlineUsers:c,myPresence:i}}},5283:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return Z}});var a=s(1549),r=s(4194),n=s(55),c=s.n(n),l=s(6393),i=s(5560),d=s(1700),o=s(4168),u=s(1774),h=s(755),x=s(2619),m=s(3616),f=s(361),p=s(4916),y=s(3843),g=s(7991),j=s(2802),v=s(2342),k=s(675),N=s(119),w=s(96),b=s(6698);function Z(){var e,t;let{id:s}=(0,l.useRouter)().query,{activeTeam:n,user:Z,userRole:_}=(0,d.aC)(),{onlineUsers:M}=(0,o.o)("rock-".concat(s)),[S,C]=(0,r.useState)(null),[D,z]=(0,r.useState)(!0),[E,O]=(0,r.useState)(null),[P,q]=(0,r.useState)(!1),[A,L]=(0,r.useState)(0),[R,U]=(0,r.useState)("not_started");(0,r.useEffect)(()=>{s&&n&&H()},[s,n]);let H=async()=>{if(s&&n)try{z(!0),O(null);let{data:e,error:t}=await u.OQ.from("rocks").select("\n          *,\n          owner:users(full_name, email, avatar_url)\n        ").eq("id",s).eq("team_id",n.id).single();if(t){if("PGRST116"===t.code)O("Rock not found");else throw t;return}C(e),L(e.completion_percentage),U(e.status)}catch(e){O(e instanceof Error?e.message:"Failed to load rock")}finally{z(!1)}},I=async()=>{if(S&&!P){q(!0);try{let{error:e}=await u.OQ.from("rocks").update({completion_percentage:A,status:R,updated_at:new Date().toISOString()}).eq("id",S.id);if(e)throw e;C({...S,completion_percentage:A,status:R})}catch(e){alert("Failed to update progress. Please try again.")}finally{q(!1)}}},V=e=>{switch(e){case"complete":return(0,a.jsx)(m.Z,{className:"h-5 w-5 text-green-600"});case"on_track":return(0,a.jsx)(f.Z,{className:"h-5 w-5 text-green-600"});case"off_track":return(0,a.jsx)(p.Z,{className:"h-5 w-5 text-red-600"});case"not_started":return(0,a.jsx)(y.Z,{className:"h-5 w-5 text-gray-600"});default:return(0,a.jsx)(g.Z,{className:"h-5 w-5 text-gray-600"})}};if(D)return(0,a.jsx)(d.a1,{children:(0,a.jsx)(d.P6,{children:(0,a.jsx)(h.Z,{children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,a.jsx)("div",{className:"skeleton h-8 w-64"}),(0,a.jsx)("div",{className:"card",children:(0,a.jsxs)("div",{className:"card-content space-y-4",children:[(0,a.jsx)("div",{className:"skeleton h-6 w-full"}),(0,a.jsx)("div",{className:"skeleton h-4 w-3/4"}),(0,a.jsx)("div",{className:"skeleton h-32 w-full"})]})})]})})})});if(E||!S)return(0,a.jsx)(d.a1,{children:(0,a.jsx)(d.P6,{children:(0,a.jsx)(h.Z,{children:(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(j.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-2",children:E||"Rock not found"}),(0,a.jsx)(i.Z,{href:"/rocks",className:"btn-primary",children:"Back to Rocks"})]})})})});let T=(e=>{let t=new Date(e),s=new Date;return Math.ceil((t.getTime()-s.getTime())/864e5)})(S.due_date),Q=T<0;return(0,a.jsx)(d.a1,{children:(0,a.jsx)(d.P6,{children:(0,a.jsxs)("div",{children:[(0,a.jsxs)(c(),{children:[(0,a.jsxs)("title",{children:[S.title," - Rocks - EOS L10 Platform"]}),(0,a.jsx)("meta",{name:"description",content:"Rock details: ".concat(S.title)})]}),(0,a.jsx)(h.Z,{children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)(i.Z,{href:"/rocks",className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:(0,a.jsx)(v.Z,{className:"h-5 w-5"})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[(0,a.jsx)(j.Z,{className:"h-6 w-6 mr-2 text-eos-600"}),S.title]}),(0,a.jsxs)("p",{className:"text-gray-600 mt-1",children:[S.quarter," • Priority #",S.priority]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(x.ZP,{page:"rock-".concat(S.id)}),("leader"===_||"member"===_)&&(0,a.jsxs)(i.Z,{href:"/rocks/".concat(S.id,"/edit"),className:"btn-secondary flex items-center",children:[(0,a.jsx)(k.Z,{className:"h-4 w-4 mr-2"}),"Edit"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[S.description&&(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("div",{className:"card-header",children:(0,a.jsx)("h3",{className:"card-title",children:"Description"})}),(0,a.jsx)("div",{className:"card-content",children:(0,a.jsx)("p",{className:"text-gray-700 whitespace-pre-wrap",children:S.description})})]}),("leader"===_||"member"===_)&&(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("div",{className:"card-header",children:(0,a.jsx)("h3",{className:"card-title",children:"Update Progress"})}),(0,a.jsxs)("div",{className:"card-content space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Completion Percentage: ",A,"%"]}),(0,a.jsx)("input",{type:"range",min:"0",max:"100",value:A,onChange:e=>L(parseInt(e.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider"}),(0,a.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[(0,a.jsx)("span",{children:"0%"}),(0,a.jsx)("span",{children:"25%"}),(0,a.jsx)("span",{children:"50%"}),(0,a.jsx)("span",{children:"75%"}),(0,a.jsx)("span",{children:"100%"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:["not_started","on_track","off_track","complete"].map(e=>(0,a.jsxs)("button",{onClick:()=>U(e),className:"p-3 rounded-lg border text-sm font-medium flex items-center justify-center space-x-2 ".concat(R===e?"border-eos-500 bg-eos-50 text-eos-700":"border-gray-200 text-gray-700 hover:bg-gray-50"),children:[V(e),(0,a.jsx)("span",{className:"capitalize",children:e.replace("_"," ")})]},e))})]}),(A!==S.completion_percentage||R!==S.status)&&(0,a.jsx)("button",{onClick:I,disabled:P,className:"btn-primary w-full",children:P?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Updating..."]}):"Update Progress"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("div",{className:"card-header",children:(0,a.jsx)("h3",{className:"card-title",children:"Progress Overview"})}),(0,a.jsxs)("div",{className:"card-content space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm mb-2",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Completion"}),(0,a.jsxs)("span",{className:"font-bold text-lg",children:[S.completion_percentage,"%"]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3",children:(0,a.jsx)("div",{className:"h-3 rounded-full transition-all duration-300 ".concat((t=S.completion_percentage,"complete"===S.status?"bg-blue-500":t>=75?"bg-green-500":t>=50?"bg-yellow-500":"bg-red-500")),style:{width:"".concat(S.completion_percentage,"%")}})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Status"}),(0,a.jsxs)("div",{className:"px-3 py-1 rounded-full text-sm font-medium flex items-center ".concat((e=>{switch(e){case"complete":case"on_track":return"bg-green-100 text-green-800";case"off_track":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}})(S.status)),children:[V(S.status),(0,a.jsx)("span",{className:"ml-1 capitalize",children:S.status.replace("_"," ")})]})]})]})]}),(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("div",{className:"card-header",children:(0,a.jsx)("h3",{className:"card-title",children:"Details"})}),(0,a.jsxs)("div",{className:"card-content space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(N.Z,{className:"h-5 w-5 text-gray-400"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:(null===(e=S.owner)||void 0===e?void 0:e.full_name)||"Unknown"}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Rock Owner"})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(w.Z,{className:"h-5 w-5 text-gray-400"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium ".concat(Q?"text-red-600":"text-gray-900"),children:new Date(S.due_date).toLocaleDateString()}),(0,a.jsx)("div",{className:"text-xs ".concat(Q?"text-red-500":"text-gray-500"),children:Q?"".concat(Math.abs(T)," days overdue"):0===T?"Due today":"".concat(T," days remaining")})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(f.Z,{className:"h-5 w-5 text-gray-400"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:S.quarter}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Quarter"})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(b.Z,{className:"h-5 w-5 text-gray-400"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:new Date(S.updated_at).toLocaleDateString()}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Last updated"})]})]})]})]}),M.length>0&&(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("div",{className:"card-header",children:(0,a.jsx)("h3",{className:"card-title",children:"Active Collaborators"})}),(0,a.jsx)("div",{className:"card-content",children:(0,a.jsx)("div",{className:"space-y-2",children:M.map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[e.avatar_url?(0,a.jsx)("img",{src:e.avatar_url,alt:e.full_name,className:"w-8 h-8 rounded-full"}):(0,a.jsx)("div",{className:"w-8 h-8 bg-eos-100 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-sm font-medium text-eos-700",children:e.full_name.charAt(0).toUpperCase()})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900 truncate",children:e.full_name}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Viewing this rock"})]}),(0,a.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full"})]},e.user_id))})})]})]})]})]})})]})})})}},6393:function(e,t,s){e.exports=s(6856)}},function(e){e.O(0,[755,888,774,179],function(){return e(e.s=7129)}),_N_E=e.O()}]);