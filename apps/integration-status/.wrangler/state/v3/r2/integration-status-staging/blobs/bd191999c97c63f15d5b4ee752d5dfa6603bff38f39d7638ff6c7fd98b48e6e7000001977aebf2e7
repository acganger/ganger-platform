(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{3583:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(5452)}])},3537:function(e,t,s){"use strict";s.d(t,{Dl:function(){return a},Gu:function(){return n},oY:function(){return l}});var r=s(1549);function n(e){let{message:t="Loading...",showProgress:s=!1,size:n="md"}=e;return(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:[(0,r.jsx)("div",{className:"".concat({sm:"w-6 h-6",md:"w-8 h-8",lg:"w-12 h-12"}[n]," mb-4"),children:(0,r.jsxs)("svg",{className:"animate-spin text-blue-600",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),(0,r.jsx)("p",{className:"text-gray-600 text-sm",children:t}),s&&(0,r.jsx)("div",{className:"w-48 mt-4",children:(0,r.jsx)("div",{className:"bg-gray-200 rounded-full h-2",children:(0,r.jsx)("div",{className:"bg-blue-600 h-2 rounded-full animate-pulse",style:{width:"60%"}})})})]})}function l(e){let{className:t="",lines:s=3}=e;return(0,r.jsxs)("div",{className:"animate-pulse ".concat(t),children:[(0,r.jsx)("div",{className:"bg-gray-200 rounded h-4 w-3/4 mb-3"}),Array.from({length:s-1}).map((e,t)=>(0,r.jsx)("div",{className:"bg-gray-200 rounded h-3 w-full mb-2"},t)),(0,r.jsx)("div",{className:"bg-gray-200 rounded h-3 w-1/2"})]})}function a(e){let{count:t=6,columns:s=3}=e,n={1:"grid-cols-1",2:"grid-cols-1 md:grid-cols-2",3:"grid-cols-1 md:grid-cols-2 xl:grid-cols-3",4:"grid-cols-1 md:grid-cols-2 xl:grid-cols-4"};return(0,r.jsx)("div",{className:"grid ".concat(n[s]||n[3]," gap-6"),children:Array.from({length:t}).map((e,t)=>(0,r.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:(0,r.jsx)(l,{lines:4})},t))})}},5452:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return S}});var r=s(1549),n=s(4194),l=s(7477);function a(e){let{children:t,sidebar:s,showSidebar:n=!1}=e;return(0,r.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,r.jsxs)("div",{className:"flex",children:[n&&s&&(0,r.jsx)("div",{className:"hidden lg:flex lg:flex-shrink-0",children:(0,r.jsx)("div",{className:"flex flex-col w-64 bg-white border-r border-gray-200",children:(0,r.jsx)(l.SV,{fallback:(0,r.jsx)("div",{className:"p-4 text-center text-gray-500",children:(0,r.jsx)("p",{children:"Sidebar failed to load"})}),children:s})})}),(0,r.jsx)("div",{className:"flex-1 flex flex-col overflow-hidden",children:(0,r.jsx)("main",{className:"flex-1 relative overflow-y-auto focus:outline-none",children:(0,r.jsx)(l.SV,{children:t})})})]})})}var i=s(1882);function o(e){let{title:t,subtitle:s,lastUpdate:n,connectionStatus:l,actions:a}=e;return(0,r.jsx)("div",{className:"bg-white border-b border-gray-200 mb-8",children:(0,r.jsx)("div",{className:"px-6 py-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900 truncate",children:t}),s&&(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:s}),(0,r.jsxs)("div",{className:"mt-3 flex items-center space-x-6 text-sm",children:[n&&(0,r.jsxs)("div",{className:"flex items-center text-gray-500",children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,r.jsxs)("span",{children:["Last updated ",(0,i.Q)(new Date(n),{addSuffix:!0})]})]}),l&&(0,r.jsxs)("div",{className:"flex items-center ".concat((e=>{if(!e)return"text-gray-400";if(!e.isConnected)return"text-red-500";switch(e.quality){case"excellent":return"text-green-500";case"good":return"text-blue-500";case"poor":return"text-yellow-500";default:return"text-gray-400"}})(l)),children:[(0,r.jsx)("span",{className:"mr-1.5",children:l&&l.isConnected?(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.111 16.404a5.5 5.5 0 017.778 0M12 20h.01m-7.08-7.071c3.904-3.905 10.236-3.905 14.141 0M1.394 9.393c5.857-5.857 15.355-5.857 21.213 0"})}):(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 5.636l-12.728 12.728m0-12.728l12.728 12.728"})})}),(0,r.jsx)("span",{children:(e=>{if(!e)return"Unknown";if(!e.isConnected)return"Disconnected";switch(e.quality){case"excellent":return"Excellent";case"good":return"Good";case"poor":return"Poor";default:return"Connected"}})(l)})]})]})]}),a&&(0,r.jsx)("div",{className:"flex items-center space-x-3",children:a})]})})})}function c(e){let{overview:t,isRefreshing:s=!1,onRefresh:n}=e,l=[{title:"Total Integrations",value:t.total_integrations,color:"text-blue-600",bgColor:"bg-blue-50",icon:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14-7H3a2 2 0 00-2 2v12a2 2 0 002 2h16a2 2 0 002-2V6a2 2 0 00-2-2z"})})},{title:"Healthy",value:t.healthy_count,color:"text-green-600",bgColor:"bg-green-50",icon:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})},{title:"Warning",value:t.warning_count,color:"text-yellow-600",bgColor:"bg-yellow-50",icon:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})},{title:"Critical",value:t.critical_count,color:"text-red-600",bgColor:"bg-red-50",icon:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}],a=[{title:"Overall Uptime",value:"".concat(t.overall_uptime.toFixed(1),"%"),subtitle:"30-day average",color:t.overall_uptime>=99?"text-green-600":t.overall_uptime>=95?"text-yellow-600":"text-red-600"},{title:"Avg Response Time",value:"".concat(t.avg_response_time,"ms"),subtitle:"Across all services",color:t.avg_response_time<=500?"text-green-600":t.avg_response_time<=1e3?"text-yellow-600":"text-red-600"},{title:"Incidents (24h)",value:t.total_incidents_24h,subtitle:"Last 24 hours",color:0===t.total_incidents_24h?"text-green-600":t.total_incidents_24h<=2?"text-yellow-600":"text-red-600"},{title:"Active Alerts",value:t.active_alerts,subtitle:"Requiring attention",color:0===t.active_alerts?"text-green-600":t.active_alerts<=3?"text-yellow-600":"text-red-600"}];return(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"System Overview"}),n&&(0,r.jsxs)("button",{onClick:n,disabled:s,className:"\n              flex items-center px-3 py-2 text-sm font-medium rounded-md border\n              ".concat(s?"border-gray-200 text-gray-400 cursor-not-allowed":"border-gray-300 text-gray-700 hover:bg-gray-50"," transition-colors\n            "),children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-2 ".concat(s?"animate-spin":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),s?"Refreshing...":"Refresh"]})]}),(0,r.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:l.map((e,t)=>(0,r.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"".concat(e.bgColor," ").concat(e.color," p-2 rounded-lg mr-3"),children:e.icon}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.value}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:e.title})]})]})},t))}),(0,r.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:a.map((e,t)=>(0,r.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("p",{className:"text-2xl font-bold ".concat(e.color),children:e.value}),(0,r.jsx)("p",{className:"text-sm font-medium text-gray-900 mt-1",children:e.title}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:e.subtitle})]})},t))})]})}function d(e){let{alerts:t,onDismiss:s,onAcknowledge:l,onViewDetails:a}=e,[o,c]=(0,n.useState)(new Set),d=t.filter(e=>"critical"===e.severity&&!o.has(e.id));if(0===d.length)return null;let x=e=>{c(t=>new Set([...t,e])),null==s||s(e)},m=async e=>{l&&await l(e),x(e)};return(0,r.jsxs)("div",{className:"mb-6",role:"alert","aria-live":"assertive",children:[d.map(e=>(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-3 shadow-sm",children:(0,r.jsxs)("div",{className:"flex items-start",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("div",{className:"flex items-center justify-center w-8 h-8 bg-red-100 rounded-lg",children:(0,r.jsx)("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),(0,r.jsxs)("div",{className:"ml-4 flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Critical Integration Issue"}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Critical"}),(0,r.jsx)("button",{onClick:()=>x(e.id),className:"text-red-400 hover:text-red-600 transition-colors","aria-label":"Dismiss alert",children:(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),(0,r.jsxs)("div",{className:"mt-2 text-sm text-red-700",children:[(0,r.jsx)("p",{className:"font-medium",children:e.message}),(0,r.jsxs)("div",{className:"mt-1 space-y-1",children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{className:"font-medium",children:"Service:"})," ",e.integration_name]}),e.triggered_at&&(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{className:"font-medium",children:"Triggered:"})," ",(0,i.Q)(new Date(e.triggered_at),{addSuffix:!0})]})]})]}),(0,r.jsxs)("div",{className:"mt-4 flex flex-wrap gap-2",children:[a&&(0,r.jsxs)("button",{onClick:()=>{},className:"inline-flex items-center px-3 py-1.5 border border-red-300 text-xs font-medium rounded text-red-700 bg-white hover:bg-red-50 transition-colors",children:[(0,r.jsxs)("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"View Details"]}),(0,r.jsxs)("button",{onClick:()=>m(e.id),className:"inline-flex items-center px-3 py-1.5 border border-red-300 text-xs font-medium rounded text-red-700 bg-white hover:bg-red-50 transition-colors",children:[(0,r.jsx)("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Acknowledge"]}),(0,r.jsxs)("button",{onClick:()=>{},className:"inline-flex items-center px-3 py-1.5 border border-red-300 text-xs font-medium rounded text-red-700 bg-white hover:bg-red-50 transition-colors",children:[(0,r.jsx)("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Test Now"]})]})]})]})},e.id)),d.length>1&&(0,r.jsx)("div",{className:"bg-red-100 border border-red-200 rounded-lg p-3 mt-3",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("svg",{className:"w-4 h-4 text-red-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,r.jsxs)("span",{className:"text-sm font-medium text-red-800",children:[d.length," critical issues require immediate attention"]})]}),(0,r.jsx)("button",{onClick:()=>{d.forEach(e=>m(e.id))},className:"text-xs font-medium text-red-700 hover:text-red-800 underline",children:"Acknowledge All"})]})})]})}var x=s(3537);function m(e){let{integration:t,onClick:s,onTestConnection:l,metrics:a,compact:o=!1,showActions:c=!0}=e,[d,m]=(0,n.useState)(a||null),[u,h]=(0,n.useState)(!1),[g,v]=(0,n.useState)(!1);(0,n.useEffect)(()=>{a||o||(h(!0),setTimeout(()=>{m({integration_id:t.id,timestamp:new Date().toISOString(),uptime_percentage:99.5,avg_response_time:234,p95_response_time:456,p99_response_time:789,total_requests:15420,successful_requests:15350,failed_requests:70,success_rate:99.5,error_count:70,requests_per_hour:642,uptime_trend:1,response_time_trend:-1,success_rate_trend:0}),h(!1)},1e3))},[t.id,a,o]);let b={healthy:{color:"border-l-green-500 bg-green-50",icon:"✅",label:"Healthy",textColor:"text-green-700"},warning:{color:"border-l-yellow-500 bg-yellow-50",icon:"⚠️",label:"Warning",textColor:"text-yellow-700"},critical:{color:"border-l-red-500 bg-red-50",icon:"\uD83D\uDEA8",label:"Critical",textColor:"text-red-700"},unknown:{color:"border-l-gray-500 bg-gray-50",icon:"❓",label:"Unknown",textColor:"text-gray-700"},maintenance:{color:"border-l-purple-500 bg-purple-50",icon:"\uD83D\uDD27",label:"Maintenance",textColor:"text-purple-700"}},p=b[t.health_status]||b.unknown,j=async e=>{if(e.stopPropagation(),l){v(!0);try{await l()}finally{v(!1)}}},f=e=>"".concat(e.toFixed(1),"%"),y=e=>e?e>0?(0,r.jsx)("span",{className:"text-green-500 ml-1",children:"↗"}):e<0?(0,r.jsx)("span",{className:"text-red-500 ml-1",children:"↘"}):(0,r.jsx)("span",{className:"text-gray-400 ml-1",children:"→"}):null;return(0,r.jsx)("div",{className:"\n        relative bg-white rounded-lg border-l-4 shadow-sm hover:shadow-md transition-all cursor-pointer\n        ".concat(p.color," border-r border-t border-b border-gray-200\n        ").concat("critical"===t.health_status?"animate-pulse-slow":"","\n      "),onClick:s,children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,r.jsxs)("div",{className:"flex items-start space-x-3 flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex-shrink-0",children:[t.icon_url?(0,r.jsx)("img",{src:t.icon_url,alt:t.name,className:"w-10 h-10 rounded-lg object-cover",onError:e=>{var t;let s=e.target;s.style.display="none",null===(t=s.nextElementSibling)||void 0===t||t.classList.remove("hidden")}}):null,(0,r.jsx)("div",{className:"w-10 h-10 rounded-lg bg-gray-100 flex items-center justify-center text-lg ".concat(t.icon_url?"hidden":""),children:p.icon})]}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:t.display_name}),(0,r.jsx)("p",{className:"text-sm text-gray-500 truncate",children:t.description}),(0,r.jsxs)("div",{className:"flex items-center mt-1 space-x-3 text-xs text-gray-400",children:[(0,r.jsx)("span",{className:"capitalize",children:t.service_type}),(0,r.jsx)("span",{children:"•"}),(0,r.jsx)("span",{className:"capitalize",children:t.environment})]})]})]}),(0,r.jsxs)("div",{className:"flex-shrink-0 px-2 py-1 rounded-full text-xs font-medium border ".concat(p.color," ").concat(p.textColor),children:[(0,r.jsx)("span",{className:"mr-1",children:p.icon}),p.label]})]}),!o&&(0,r.jsx)("div",{className:"mb-4",children:u?(0,r.jsx)(x.oY,{lines:2}):d?(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("div",{className:"text-lg font-semibold text-gray-900 flex items-center justify-center",children:[f(d.uptime_percentage),y(d.uptime_trend)]}),(0,r.jsx)("div",{className:"text-xs text-gray-500",children:"Uptime"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("div",{className:"text-lg font-semibold text-gray-900 flex items-center justify-center",children:[d.avg_response_time,"ms",y(d.response_time_trend)]}),(0,r.jsx)("div",{className:"text-xs text-gray-500",children:"Response Time"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("div",{className:"text-lg font-semibold text-gray-900 flex items-center justify-center",children:[f(d.success_rate),y(d.success_rate_trend)]}),(0,r.jsx)("div",{className:"text-xs text-gray-500",children:"Success Rate"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-lg font-semibold ".concat(d.error_count>0?"text-red-600":"text-gray-900"),children:d.error_count}),(0,r.jsx)("div",{className:"text-xs text-gray-500",children:"Errors (24h)"})]})]}):(0,r.jsx)("div",{className:"text-center py-4 text-gray-500",children:(0,r.jsx)("p",{className:"text-sm",children:"Metrics unavailable"})})}),(0,r.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100",children:[(0,r.jsxs)("div",{className:"text-xs text-gray-500",children:["Last checked: ",(0,i.Q)(new Date(t.last_health_check),{addSuffix:!0})]}),c&&(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("button",{onClick:j,disabled:g,className:"\n                  px-3 py-1 text-xs font-medium rounded border transition-colors\n                  ".concat(g?"border-gray-200 text-gray-400 cursor-not-allowed":"border-gray-300 text-gray-700 hover:bg-gray-50","\n                "),children:g?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("svg",{className:"w-3 h-3 mr-1 animate-spin inline",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Testing..."]}):"Test Now"}),"critical"===t.health_status&&(0,r.jsx)("button",{onClick:e=>{e.stopPropagation()},className:"px-3 py-1 text-xs font-medium rounded border border-red-300 text-red-700 hover:bg-red-50 transition-colors",children:"Acknowledge"})]})]})]})})}function u(e){let{integrations:t,onIntegrationClick:s,onTestConnection:n,isRefreshing:l=!1,filters:a,emptyState:i}=e,o=t.filter(e=>{var t,s,r;if(null==a?void 0:a.search){let t=a.search.toLowerCase();if(!(e.name.toLowerCase().includes(t)||e.display_name.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)||e.service_type.toLowerCase().includes(t)))return!1}return(null==a||null===(t=a.status)||void 0===t||!t.length||!!a.status.includes(e.health_status))&&(null==a||null===(s=a.service_type)||void 0===s||!s.length||!!a.service_type.includes(e.service_type))&&(null==a||null===(r=a.environment)||void 0===r||!r.length||!!a.environment.includes(e.environment))&&(null==a||a.has_incidents,null==a||a.has_maintenance,!0)});return l&&0===t.length?(0,r.jsx)(x.Dl,{count:6,columns:3}):0===o.length?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("div",{className:"text-gray-400 mb-4",children:(0,r.jsx)("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M19 11H5m14-7H3a2 2 0 00-2 2v12a2 2 0 002 2h16a2 2 0 002-2V6a2 2 0 00-2-2z"})})}),(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:(null==i?void 0:i.title)||"No integrations found"}),(0,r.jsx)("p",{className:"text-gray-500 mb-4",children:(null==i?void 0:i.message)||"No integrations have been configured yet."}),(null==i?void 0:i.action)&&(0,r.jsx)("button",{onClick:i.action.onClick,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:i.action.label})]}):(0,r.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:o.map(e=>(0,r.jsx)(m,{integration:e,onClick:()=>s(e),onTestConnection:()=>n(e.id),showActions:!0,compact:!1},e.id))})}function h(e){var t,s,l,a,i,o;let{filters:c,onChange:d,isRefreshing:x=!1,onRefresh:m,resultCount:u=0}=e,[h,g]=(0,n.useState)(!1),v=e=>{d({...c,search:e})},b=e=>{let t=c.status||[],s=t.includes(e)?t.filter(t=>t!==e):[...t,e];d({...c,status:s.length>0?s:void 0})},p=e=>{let t=c.service_type||[],s=t.includes(e)?t.filter(t=>t!==e):[...t,e];d({...c,service_type:s.length>0?s:void 0})},j=e=>{let t=c.environment||[],s=t.includes(e)?t.filter(t=>t!==e):[...t,e];d({...c,environment:s.length>0?s:void 0})},f=!!(c.search||(null===(t=c.status)||void 0===t?void 0:t.length)||(null===(s=c.service_type)||void 0===s?void 0:s.length)||(null===(l=c.environment)||void 0===l?void 0:l.length)||c.has_incidents||c.has_maintenance);return(0,r.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 mb-6",children:(0,r.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,r.jsx)("div",{className:"flex-1 max-w-md",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsx)("svg",{className:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,r.jsx)("input",{type:"text",placeholder:"Search integrations...",value:c.search||"",onChange:e=>v(e.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md text-sm placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsxs)("span",{className:"text-sm text-gray-500",children:[u," integration",1!==u?"s":""]}),(0,r.jsxs)("button",{onClick:()=>g(!h),className:"inline-flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.414A1 1 0 013 6.707V4z"})}),"Filters",f&&(0,r.jsx)("span",{className:"ml-1 inline-flex items-center justify-center px-2 py-0.5 text-xs font-medium bg-blue-100 text-blue-800 rounded-full",children:[null===(a=c.status)||void 0===a?void 0:a.length,null===(i=c.service_type)||void 0===i?void 0:i.length,null===(o=c.environment)||void 0===o?void 0:o.length,c.search?1:0,c.has_incidents?1:0,c.has_maintenance?1:0].filter(Boolean).reduce((e,t)=>(e||0)+(t||0),0)})]}),m&&(0,r.jsxs)("button",{onClick:m,disabled:x,className:"\n                  inline-flex items-center px-3 py-2 text-sm font-medium rounded-md border transition-colors\n                  ".concat(x?"border-gray-200 text-gray-400 cursor-not-allowed":"border-gray-300 text-gray-700 hover:bg-gray-50","\n                "),children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-2 ".concat(x?"animate-spin":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),x?"Refreshing...":"Refresh"]})]})]}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:[{value:"healthy",label:"Healthy",color:"text-green-600"},{value:"warning",label:"Warning",color:"text-yellow-600"},{value:"critical",label:"Critical",color:"text-red-600"},{value:"unknown",label:"Unknown",color:"text-gray-600"},{value:"maintenance",label:"Maintenance",color:"text-purple-600"}].map(e=>{var t;return(0,r.jsxs)("button",{onClick:()=>b(e.value),className:"\n                inline-flex items-center px-3 py-1.5 rounded-full text-xs font-medium transition-colors\n                ".concat((null===(t=c.status)||void 0===t?void 0:t.includes(e.value))?"bg-blue-100 text-blue-800 border border-blue-200":"bg-gray-100 text-gray-700 border border-gray-200 hover:bg-gray-200","\n              "),children:[(0,r.jsx)("div",{className:"w-2 h-2 rounded-full mr-2 ".concat(e.color.replace("text-","bg-"))}),e.label]},e.value)})}),h&&(0,r.jsxs)("div",{className:"border-t border-gray-200 pt-4 space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service Type"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:[{value:"api",label:"API"},{value:"database",label:"Database"},{value:"storage",label:"Storage"},{value:"payment",label:"Payment"},{value:"communication",label:"Communication"},{value:"calendar",label:"Calendar"},{value:"analytics",label:"Analytics"},{value:"other",label:"Other"}].map(e=>{var t;return(0,r.jsx)("button",{onClick:()=>p(e.value),className:"\n                      inline-flex items-center px-3 py-1.5 rounded-md text-xs font-medium transition-colors\n                      ".concat((null===(t=c.service_type)||void 0===t?void 0:t.includes(e.value))?"bg-blue-100 text-blue-800 border border-blue-200":"bg-gray-100 text-gray-700 border border-gray-200 hover:bg-gray-200","\n                    "),children:e.label},e.value)})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Environment"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:[{value:"production",label:"Production"},{value:"staging",label:"Staging"},{value:"development",label:"Development"}].map(e=>{var t;return(0,r.jsx)("button",{onClick:()=>j(e.value),className:"\n                      inline-flex items-center px-3 py-1.5 rounded-md text-xs font-medium transition-colors\n                      ".concat((null===(t=c.environment)||void 0===t?void 0:t.includes(e.value))?"bg-blue-100 text-blue-800 border border-blue-200":"bg-gray-100 text-gray-700 border border-gray-200 hover:bg-gray-200","\n                    "),children:e.label},e.value)})})]}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,r.jsxs)("label",{className:"inline-flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",checked:c.has_incidents||!1,onChange:e=>d({...c,has_incidents:e.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,r.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Has incidents"})]}),(0,r.jsxs)("label",{className:"inline-flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",checked:c.has_maintenance||!1,onChange:e=>d({...c,has_maintenance:e.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,r.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"In maintenance"})]})]}),f&&(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsx)("button",{onClick:()=>{d({search:""})},className:"text-sm text-gray-500 hover:text-gray-700 underline",children:"Clear all filters"})})]})]})})}function g(e){let{integration:t,onClose:s,onTestConnection:l,onAcknowledgeAlert:a,initialTab:i="overview"}=e,[o,c]=(0,n.useState)(i),[d,x]=(0,n.useState)(!1);(0,n.useEffect)(()=>(x(!0),document.body.style.overflow="hidden",()=>{document.body.style.overflow="unset"}),[]);let m=()=>{x(!1),setTimeout(s,150)};return(0,r.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center transition-opacity duration-150 ".concat(d?"opacity-100":"opacity-0"),children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:m}),(0,r.jsxs)("div",{className:"relative bg-white rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-hidden transition-transform duration-150 ".concat(d?"scale-100":"scale-95"),children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[t.icon_url?(0,r.jsx)("img",{src:t.icon_url,alt:t.name,className:"w-12 h-12 rounded-lg object-cover"}):(0,r.jsx)("div",{className:"w-12 h-12 rounded-lg bg-gray-100 flex items-center justify-center text-xl",children:"\uD83D\uDD17"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:t.display_name}),(0,r.jsx)("p",{className:"text-gray-500",children:t.description})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat("healthy"===t.health_status?"bg-green-100 text-green-800":"warning"===t.health_status?"bg-yellow-100 text-yellow-800":"critical"===t.health_status?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:t.health_status}),(0,r.jsx)("button",{onClick:m,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),(0,r.jsx)("div",{className:"border-b border-gray-200",children:(0,r.jsx)("nav",{className:"flex space-x-8 px-6",children:[{id:"overview",label:"Overview",icon:"\uD83D\uDCCA"},{id:"metrics",label:"Metrics",icon:"\uD83D\uDCC8"},{id:"incidents",label:"Incidents",icon:"\uD83D\uDEA8"},{id:"config",label:"Configuration",icon:"⚙️"}].map(e=>(0,r.jsxs)("button",{onClick:()=>c(e.id),className:"py-4 px-1 border-b-2 font-medium text-sm transition-colors ".concat(o===e.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,r.jsx)("span",{className:"mr-2",children:e.icon}),e.label]},e.id))})}),(0,r.jsxs)("div",{className:"p-6 overflow-y-auto",style:{maxHeight:"calc(90vh - 200px)"},children:["overview"===o&&(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Service Information"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Service Type"}),(0,r.jsx)("p",{className:"mt-1 capitalize",children:t.service_type})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Base URL"}),(0,r.jsx)("p",{className:"mt-1 font-mono text-sm",children:t.base_url})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Authentication"}),(0,r.jsx)("p",{className:"mt-1 uppercase",children:t.auth_type})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Environment"}),(0,r.jsx)("p",{className:"mt-1 capitalize",children:t.environment})]})]})]}),(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Current Status"}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-3xl mb-2",children:"healthy"===t.health_status?"✅":"warning"===t.health_status?"⚠️":"critical"===t.health_status?"\uD83D\uDEA8":"❓"}),(0,r.jsx)("p",{className:"text-lg font-medium capitalize",children:t.health_status}),(0,r.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["Last checked: ",new Date(t.last_health_check).toLocaleString()]})]})]})]}),"metrics"===o&&(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("div",{className:"text-4xl mb-4",children:"\uD83D\uDCC8"}),(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Metrics Dashboard"}),(0,r.jsx)("p",{className:"text-gray-500",children:"Performance metrics and analytics will be displayed here."})]}),"incidents"===o&&(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("div",{className:"text-4xl mb-4",children:"\uD83D\uDEA8"}),(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Incident History"}),(0,r.jsx)("p",{className:"text-gray-500",children:"Recent incidents and their resolution status will be shown here."})]}),"config"===o&&(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("div",{className:"text-4xl mb-4",children:"⚙️"}),(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Configuration Settings"}),(0,r.jsx)("p",{className:"text-gray-500",children:"Integration configuration and alert settings will be available here."})]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between p-6 border-t border-gray-200 bg-gray-50",children:[(0,r.jsxs)("div",{className:"text-sm text-gray-500",children:["Integration ID: ",t.id]}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[l&&(0,r.jsx)("button",{onClick:()=>l(t.id),className:"px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 hover:bg-gray-50 transition-colors",children:"Test Connection"}),(0,r.jsx)("button",{onClick:m,className:"px-4 py-2 bg-blue-600 text-sm font-medium rounded-md text-white hover:bg-blue-700 transition-colors",children:"Close"})]})]})]})]})}var v=s(7016),b=s(1735),p=s(6789);let j={baseURL:s(8304).env.NEXT_PUBLIC_API_URL||"/api",timeout:1e4,retryAttempts:3,retryDelay:1e3,headers:{"Content-Type":"application/json"}};class f extends Error{constructor(e,t,s,r){super(e),this.status=t,this.code=s,this.details=r,this.name="APIError"}}class y extends Error{constructor(e){super(e),this.name="NetworkError"}}class N extends Error{constructor(e){super(e),this.name="TimeoutError"}}async function w(e){let{method:t,url:s,params:r,data:n,headers:l={},timeout:a=j.timeout}=e,i=new URL(s,j.baseURL);r&&Object.entries(r).forEach(e=>{let[t,s]=e;null!=s&&""!==s&&(Array.isArray(s)?s.forEach(e=>i.searchParams.append(t,String(e))):i.searchParams.append(t,String(s)))});let o={method:t,headers:{...j.headers,...l}};n&&("POST"===t||"PUT"===t||"PATCH"===t)&&(o.body=JSON.stringify(n));try{let e=await fetch(i.toString(),o);if(!e.ok){let t=await e.json().catch(()=>({message:"Unknown error"}));throw new f(t.message||"HTTP ".concat(e.status),e.status,t.code,t.details)}return await e.json()}catch(e){if("AbortError"===e.name)throw new N("Request timed out after ".concat(a,"ms"));if(e instanceof f)throw e;if(e instanceof TypeError&&e.message.includes("fetch"))throw new y("Network connection failed");throw new f("Request failed",void 0,"UNKNOWN_ERROR",e)}}async function k(e){let t;for(let s=1;s<=j.retryAttempts;s++)try{return await w(e)}catch(e){if(t=e,e instanceof f&&e.status&&e.status>=400&&e.status<500)throw e;if(s<j.retryAttempts){let e=j.retryDelay*Math.pow(2,s-1);await new Promise(t=>setTimeout(t,e))}}throw t}let _={getIntegrations:async e=>k({method:"GET",url:"/integrations",params:e}),getIntegration:async e=>k({method:"GET",url:"/integrations/".concat(e)}),testConnection:async e=>k({method:"POST",url:"/integrations/".concat(e,"/test"),timeout:3e4}),updateIntegration:async(e,t)=>k({method:"PUT",url:"/integrations/".concat(e),data:t}),deleteIntegration:async e=>k({method:"DELETE",url:"/integrations/".concat(e)}),createIntegration:async e=>k({method:"POST",url:"/integrations",data:e})},C={async getMetrics(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"24h",s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return k({method:"GET",url:"/integrations/".concat(e,"/metrics"),params:{range:t,detailed:s}})},getDashboardOverview:async()=>k({method:"GET",url:"/dashboard/overview"}),getHistoricalMetrics:async(e,t,s)=>k({method:"GET",url:"/integrations/".concat(e,"/metrics/history"),params:{start_date:t,end_date:s}})},L={getAlerts:async(e,t,s)=>k({method:"GET",url:"/alerts",params:{integration_id:e,severity:t,status:s}}),getCriticalAlerts:async()=>k({method:"GET",url:"/alerts/critical"}),acknowledgeAlert:async e=>k({method:"POST",url:"/alerts/".concat(e,"/acknowledge")}),resolveAlert:async e=>k({method:"POST",url:"/alerts/".concat(e,"/resolve")}),createAlertRule:async e=>k({method:"POST",url:"/alert-rules",data:e}),updateAlertRule:async(e,t)=>k({method:"PUT",url:"/alert-rules/".concat(e),data:t}),deleteAlertRule:async e=>k({method:"DELETE",url:"/alert-rules/".concat(e)})};function S(){var e,t;let{user:s,isLoading:i,isAuthenticated:m,login:j}=(0,v.aC)(),[f,y]=(0,n.useState)([]),[N,w]=(0,n.useState)(null),[k,S]=(0,n.useState)(null),[A,D]=(0,n.useState)([]),[E,T]=(0,n.useState)({status:void 0,service_type:void 0,environment:void 0,search:"",tags:void 0,has_incidents:!1,has_maintenance:!1}),[M,P]=(0,n.useState)(!0),[R,I]=(0,n.useState)(!1),[W,B]=(0,n.useState)(null),{isConnected:H,connectionQuality:z,lastUpdate:O}=(0,b.t)({onIntegrationUpdate:e=>{y(t=>t.map(t=>t.id===e.integration_id?{...t,...e}:t))},onNewAlert:e=>{"critical"===e.severity&&D(t=>[e,...t])},onAlertResolved:e=>{D(t=>t.filter(t=>t.id!==e))}}),{toast:U}=(0,p.p)(),q=(0,n.useCallback)(async function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];try{e?P(!0):I(!0),B(null);let[t,s,r]=await Promise.all([_.getIntegrations(E),C.getDashboardOverview(),L.getCriticalAlerts()]);t.success&&y(t.data||[]),s.success&&w(s.data||null),r.success&&D(r.data||[])}catch(t){let e=t instanceof Error?t.message:"Failed to load dashboard data";B(e),U({type:"error",title:"Load Error",message:e})}finally{P(!1),I(!1)}},[E,U]);(0,n.useEffect)(()=>{q()},[q]),(0,n.useEffect)(()=>{let e=setInterval(()=>{!M&&H&&q(!1)},3e4);return()=>clearInterval(e)},[q,M,H]);let F=()=>{q(!1)},G=e=>{S(e)},V=async e=>{try{(await L.acknowledgeAlert(e)).success&&(D(t=>t.filter(t=>t.id!==e)),U({type:"success",title:"Alert Acknowledged",message:"The alert has been acknowledged successfully."}))}catch(e){U({type:"error",title:"Acknowledge Failed",message:"Failed to acknowledge the alert. Please try again."})}},Q=async e=>{try{let s=await _.testConnection(e);if(s.success)U({type:"success",title:"Test Successful",message:"Connection test completed successfully."}),q(!1);else{var t;U({type:"error",title:"Test Failed",message:(null===(t=s.error)||void 0===t?void 0:t.message)||"Connection test failed."})}}catch(e){U({type:"error",title:"Test Error",message:"Failed to test connection. Please try again."})}};return i?(0,r.jsx)(a,{children:(0,r.jsx)(x.Gu,{message:"Authenticating...",showProgress:!0})}):m?M?(0,r.jsx)(a,{children:(0,r.jsx)(x.Gu,{message:"Loading integration status dashboard...",showProgress:!0})}):W&&!f.length?(0,r.jsx)(a,{children:(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center p-8",children:[(0,r.jsx)("div",{className:"text-red-500 mb-4",children:(0,r.jsx)("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Failed to Load Dashboard"}),(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:W}),(0,r.jsx)("button",{onClick:()=>q(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Retry"})]})})}):(0,r.jsx)(l.SV,{children:(0,r.jsx)(a,{children:(0,r.jsxs)("div",{className:"container-responsive py-6",children:[(0,r.jsx)(o,{title:"Third-Party Integration Status",subtitle:"Monitor health and performance of all external service integrations",lastUpdate:O,connectionStatus:{isConnected:H,quality:z}}),A.length>0&&(0,r.jsx)(d,{alerts:A,onDismiss:e=>{D(t=>t.filter(t=>t.id!==e))},onAcknowledge:V,onViewDetails:G}),N&&(0,r.jsx)(c,{overview:N,isRefreshing:R,onRefresh:F}),(0,r.jsx)(h,{filters:E,onChange:e=>{T(e)},isRefreshing:R,onRefresh:F,resultCount:f.length}),(0,r.jsx)(u,{integrations:f,onIntegrationClick:G,onTestConnection:Q,isRefreshing:R,filters:E,emptyState:{title:"No Integrations Found",message:E.search||(null===(e=E.status)||void 0===e?void 0:e.length)?"No integrations match your current filters.":"No integrations have been configured yet.",action:E.search||(null===(t=E.status)||void 0===t?void 0:t.length)?{label:"Clear Filters",onClick:()=>T({search:""})}:void 0}}),k&&(0,r.jsx)(g,{integration:k,onClose:()=>{S(null)},onTestConnection:Q,onAcknowledgeAlert:V})]})})}):(0,r.jsx)(a,{children:(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center p-8 max-w-md",children:[(0,r.jsx)("div",{className:"text-blue-500 mb-4",children:(0,r.jsx)("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Authentication Required"}),(0,r.jsx)("p",{className:"text-gray-600 mb-6",children:"Please sign in to access the Integration Status Dashboard."}),(0,r.jsx)("button",{onClick:j,className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Sign in with Google Workspace"}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-4",children:"Restricted to @gangerdermatology.com accounts"})]})})})}({..._,...C,...L})}},function(e){e.O(0,[882,888,774,179],function(){return e(e.s=3583)}),_N_E=e.O()}]);