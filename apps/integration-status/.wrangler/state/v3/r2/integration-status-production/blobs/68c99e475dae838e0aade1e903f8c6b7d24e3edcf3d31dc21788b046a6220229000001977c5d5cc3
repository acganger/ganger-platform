(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{3583:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(7013)}])},7013:function(e,t,a){"use strict";a.r(t);var s=a(1549),l=a(4194),n=a(3827),r=a.n(n);let i=e=>{let{children:t}=e;return(0,s.jsx)("div",{className:"min-h-screen bg-slate-50",children:(0,s.jsx)("main",{className:"container mx-auto px-4 py-8",children:t})})},c=e=>{let{title:t,subtitle:a,children:l}=e;return(0,s.jsx)("div",{className:"mb-8",children:(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-slate-900",children:t}),(0,s.jsx)("p",{className:"text-slate-600 mt-2",children:a})]}),(0,s.jsx)("div",{className:"flex gap-2",children:l})]})})},o=e=>{let{children:t,className:a=""}=e;return(0,s.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 ".concat(a),children:t})},d=e=>{let{children:t,onClick:a,variant:l="primary",className:n=""}=e;return(0,s.jsx)("button",{onClick:a,className:"px-4 py-2 rounded-md font-medium transition-colors ".concat("primary"===l?"bg-primary-600 text-white hover:bg-primary-700":"border border-slate-300 text-slate-700 hover:bg-slate-50"," ").concat(n),children:t})},h=e=>{let{size:t="md"}=e;return(0,s.jsx)("div",{className:"animate-spin rounded-full border-2 border-primary-200 border-t-primary-600 ".concat("sm"===t?"h-4 w-4":"lg"===t?"h-12 w-12":"h-8 w-8")})},m=e=>{let{title:t,value:a,variant:l="default"}=e;return(0,s.jsxs)(o,{className:"p-6",children:[(0,s.jsx)("div",{className:"text-2xl font-bold mb-1 ".concat("success"===l?"text-green-600":"warning"===l?"text-yellow-600":"text-slate-900"),children:a}),(0,s.jsx)("div",{className:"text-sm text-slate-600",children:t})]})},x=e=>{let{data:t,columns:a,onRowClick:l}=e;return(0,s.jsx)("div",{className:"p-6",children:(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{children:(0,s.jsx)("tr",{className:"border-b border-slate-200",children:a.map(e=>(0,s.jsx)("th",{className:"text-left py-3 px-4 font-medium text-slate-900",children:e.label},e.key))})}),(0,s.jsx)("tbody",{children:t.map(e=>(0,s.jsx)("tr",{className:"border-b border-slate-100 hover:bg-slate-50 cursor-pointer",onClick:()=>null==l?void 0:l(e),children:a.map(t=>(0,s.jsx)("td",{className:"py-3 px-4",children:t.render?t.render(e):e[t.key]},t.key))},e.id))})]})})},u=e=>{let{isOpen:t,onClose:a,title:l,children:n}=e;return t?(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:l}),(0,s.jsx)("button",{onClick:a,className:"text-slate-400 hover:text-slate-600",children:"\xd7"})]}),n]})}):null},_=()=>({user:{email:"test@gangerdermatology.com"},isLoading:!1}),p=()=>({toast:e=>console.log("Toast:",e)}),g=e=>new Date(e).toLocaleString();t.default=function(){let{user:e,isLoading:t}=_(),[a,n]=(0,l.useState)([]),[b,j]=(0,l.useState)(null),[y,w]=(0,l.useState)(!0),[f,v]=(0,l.useState)(null),{toast:N}=p(),S=(0,l.useCallback)(async()=>{try{w(!0),v(null);let e=[{id:"1",name:"supabase-database",display_name:"Supabase Database",description:"Primary database for patient records",service_type:"database",health_status:"healthy",base_url:"https://pfqtzmxxxhhsxmlddrta.supabase.co",auth_type:"bearer_token",environment:"production",is_active:!0,last_health_check:new Date().toISOString(),last_successful_check:new Date().toISOString(),next_health_check:new Date(Date.now()+3e5).toISOString(),health_check_interval:300,config:{timeout:5e3,retry_attempts:3,alert_thresholds:{response_time_warning:1e3,response_time_critical:5e3,uptime_warning:95,uptime_critical:90,error_rate_warning:5,error_rate_critical:10},monitoring_enabled:!0},created_at:new Date().toISOString(),updated_at:new Date().toISOString(),created_by:"system"},{id:"2",name:"google-workspace",display_name:"Google Workspace",description:"Email and calendar integration",service_type:"api",health_status:"healthy",base_url:"https://www.googleapis.com",auth_type:"oauth2",environment:"production",is_active:!0,last_health_check:new Date().toISOString(),last_successful_check:new Date().toISOString(),next_health_check:new Date(Date.now()+3e5).toISOString(),health_check_interval:300,config:{timeout:3e3,retry_attempts:2,alert_thresholds:{response_time_warning:2e3,response_time_critical:1e4,uptime_warning:95,uptime_critical:90,error_rate_warning:5,error_rate_critical:15},monitoring_enabled:!0},created_at:new Date().toISOString(),updated_at:new Date().toISOString(),created_by:"system"},{id:"3",name:"twilio-sms",display_name:"Twilio SMS",description:"Patient communication via SMS",service_type:"communication",health_status:"warning",base_url:"https://api.twilio.com",auth_type:"basic_auth",environment:"production",is_active:!0,last_health_check:new Date().toISOString(),last_successful_check:new Date(Date.now()-6e5).toISOString(),next_health_check:new Date(Date.now()+3e5).toISOString(),health_check_interval:300,config:{timeout:1e4,retry_attempts:3,alert_thresholds:{response_time_warning:5e3,response_time_critical:15e3,uptime_warning:95,uptime_critical:90,error_rate_warning:10,error_rate_critical:20},monitoring_enabled:!0},created_at:new Date().toISOString(),updated_at:new Date().toISOString(),created_by:"system"}];await new Promise(e=>setTimeout(e,1e3)),n(e)}catch(t){let e=t instanceof Error?t.message:"Failed to load dashboard data";v(e),N({variant:"destructive",title:"Load Error",description:e})}finally{w(!1)}},[N]);return((0,l.useEffect)(()=>{S()},[S]),t||y)?(0,s.jsx)(i,{children:(0,s.jsx)("div",{className:"flex items-center justify-center min-h-64",children:(0,s.jsx)(h,{size:"lg"})})}):f&&!a.length?(0,s.jsx)(i,{children:(0,s.jsxs)(o,{className:"p-8 text-center",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-slate-900 mb-2",children:"Failed to Load Dashboard"}),(0,s.jsx)("p",{className:"text-slate-600 mb-4",children:f}),(0,s.jsx)(d,{onClick:()=>S(),children:"Retry"})]})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(r(),{children:[(0,s.jsx)("title",{children:"Integration Status Dashboard | Ganger Platform"}),(0,s.jsx)("meta",{name:"description",content:"Monitor and manage all third-party integrations in real-time"})]}),(0,s.jsx)(i,{children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)(c,{title:"Third-Party Integration Status",subtitle:"Monitor health and performance of all external service integrations",children:(0,s.jsx)(d,{onClick:()=>{S()},variant:"outline",children:"Refresh"})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,s.jsx)(m,{title:"Total Integrations",value:a.length}),(0,s.jsx)(m,{title:"Healthy",value:a.filter(e=>"healthy"===e.health_status).length,variant:"success"}),(0,s.jsx)(m,{title:"Issues",value:a.filter(e=>"healthy"!==e.health_status).length,variant:"warning"})]}),(0,s.jsx)(o,{children:(0,s.jsx)(x,{data:a,columns:[{key:"display_name",label:"Integration"},{key:"health_status",label:"Status",render:e=>(0,s.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("healthy"===e.health_status?"bg-green-100 text-green-800":"warning"===e.health_status?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:e.health_status})},{key:"service_type",label:"Type"},{key:"environment",label:"Environment"},{key:"last_health_check",label:"Last Checked",render:e=>g(e.last_health_check)}],onRowClick:e=>{j(e)}})}),b&&(0,s.jsx)(u,{isOpen:!0,onClose:()=>{j(null)},title:b.display_name,children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium text-slate-700",children:"Status"}),(0,s.jsx)("p",{className:"text-sm text-slate-600",children:b.health_status})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium text-slate-700",children:"Type"}),(0,s.jsx)("p",{className:"text-sm text-slate-600",children:b.service_type})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium text-slate-700",children:"Environment"}),(0,s.jsx)("p",{className:"text-sm text-slate-600",children:b.environment})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium text-slate-700",children:"Last Checked"}),(0,s.jsx)("p",{className:"text-sm text-slate-600",children:g(b.last_health_check)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium text-slate-700",children:"Description"}),(0,s.jsx)("p",{className:"text-sm text-slate-600",children:b.description})]})]})})]})})]})}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=3583)}),_N_E=e.O()}]);