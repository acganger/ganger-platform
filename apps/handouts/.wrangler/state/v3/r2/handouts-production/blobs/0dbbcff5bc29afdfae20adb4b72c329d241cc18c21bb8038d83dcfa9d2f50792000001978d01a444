(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[240],{7139:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/templates",function(){return a(8849)}])},8849:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return o}});var l=a(1549),s=a(4194),i=a(8097),n=a(8868),r=a(8816),c=a(8407);function d(){let{user:e,profile:t}=(0,i.aC)(),{state:a,loadTemplates:d}=(0,c.F)(),[o,m]=(0,s.useState)(""),[x,u]=(0,s.useState)("all"),[p,g]=(0,s.useState)([]),[h,y]=(0,s.useState)(!0);(0,s.useEffect)(()=>{(async()=>{try{await d();let e=[{id:"acne-handout-kf",name:"Acne Treatment Plan (Complex)",category:"treatment",complexity:"complex",digitalDeliveryEnabled:!0,isActive:!0,lastModified:"2024-01-15",usageCount:245},{id:"sun-protection",name:"Sun Protection Guidelines",category:"education",complexity:"simple",digitalDeliveryEnabled:!0,isActive:!0,lastModified:"2024-01-10",usageCount:189},{id:"patch-testing",name:"Patch Testing Instructions",category:"pre_procedure",complexity:"simple",digitalDeliveryEnabled:!0,isActive:!0,lastModified:"2024-01-08",usageCount:67},{id:"isotretinoin-female",name:"Isotretinoin for Female Patients",category:"medication",complexity:"complex",digitalDeliveryEnabled:!0,isActive:!0,lastModified:"2024-01-05",usageCount:23}];g(e),r.co.track("templates_page_viewed","navigation",{user_role:null==t?void 0:t.role,template_count:e.length})}catch(e){}finally{y(!1)}})()},[d,t]);let v=p.filter(e=>{let t=e.name.toLowerCase().includes(o.toLowerCase()),a="all"===x||e.category===x;return t&&a}),f=Array.from(new Set(p.map(e=>e.category))),j=(null==t?void 0:t.role)==="admin";return h?(0,l.jsx)(n.LN,{children:(0,l.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,l.jsx)(n.TK,{size:"lg"})})}):(0,l.jsxs)(n.LN,{children:[(0,l.jsx)(n.mr,{title:"Template Management",subtitle:"Manage patient education handout templates",actions:j?(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)(n.zx,{variant:"outline",size:"sm",children:"Import Templates"}),(0,l.jsx)(n.zx,{variant:"primary",size:"sm",children:"Create Template"})]}):void 0}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,l.jsx)(n.Zb,{className:"p-4",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-handouts-primary",children:p.length}),(0,l.jsx)("div",{className:"text-sm text-gray-600",children:"Total Templates"})]})}),(0,l.jsx)(n.Zb,{className:"p-4",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-green-600",children:p.filter(e=>e.isActive).length}),(0,l.jsx)("div",{className:"text-sm text-gray-600",children:"Active Templates"})]})}),(0,l.jsx)(n.Zb,{className:"p-4",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:p.filter(e=>e.digitalDeliveryEnabled).length}),(0,l.jsx)("div",{className:"text-sm text-gray-600",children:"Digital Delivery"})]})}),(0,l.jsx)(n.Zb,{className:"p-4",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:p.reduce((e,t)=>e+t.usageCount,0).toLocaleString()}),(0,l.jsx)("div",{className:"text-sm text-gray-600",children:"Total Usage (30d)"})]})})]}),(0,l.jsxs)(n.Zb,{className:"p-6",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Handout Templates"}),(0,l.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,l.jsx)(n.II,{placeholder:"Search templates...",value:o,onChange:e=>m(e.target.value),className:"w-64"}),(0,l.jsxs)("select",{value:x,onChange:e=>u(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-handouts-primary focus:border-transparent",children:[(0,l.jsx)("option",{value:"all",children:"All Categories"}),f.map(e=>(0,l.jsx)("option",{value:e,children:e.replace("_"," ").replace(/\b\w/g,e=>e.toUpperCase())},e))]}),(0,l.jsx)(n.zx,{variant:"outline",size:"sm",children:"Export"})]})]}),(0,l.jsx)(n.wQ,{data:v,columns:[{key:"name",header:"Template Name",sortable:!0},{key:"category",header:"Category",sortable:!0},{key:"complexity",header:"Complexity",sortable:!0,render:e=>(0,l.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full template-complexity-".concat(e.complexity),children:e.complexity})},{key:"usageCount",header:"Usage (30d)",sortable:!0,render:e=>e.usageCount.toLocaleString()},{key:"digitalDeliveryEnabled",header:"Digital Delivery",render:e=>(0,l.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat(e.digitalDeliveryEnabled?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.digitalDeliveryEnabled?"Enabled":"Print Only"})},{key:"isActive",header:"Status",render:e=>(0,l.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat(e.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.isActive?"Active":"Inactive"})},{key:"lastModified",header:"Last Modified",sortable:!0}],onRowClick:e=>{r.co.track("template_clicked","interaction",{template_id:e.id,template_name:e.name})}})]})]})}function o(){return(0,l.jsx)(i.a1,{level:"staff",appName:"handouts",children:(0,l.jsx)(d,{})})}}},function(e){e.O(0,[411,435,738,868,957,888,774,179],function(){return e(e.s=7139)}),_N_E=e.O()}]);