(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[957],{8816:function(e,t,i){"use strict";i.d(t,{co:function(){return d},N9:function(){return m}});var n,s,r,a,o=i(6294);o.z.string().email("Invalid email address"),o.z.string().regex(/^\+?[1-9]\d{1,14}$/,"Invalid phone number format"),o.z.string().regex(/^\d{5}(-\d{4})?$/,"Invalid ZIP code format"),o.z.string().length(2,"State must be 2 characters"),o.z.string().min(1,"MRN is required"),o.z.string().regex(/^\d{4}-\d{2}-\d{2}$/,"Date must be in YYYY-MM-DD format");let l=o.z.string().regex(/^\d{2}:\d{2}(:\d{2})?$/,"Time must be in HH:MM or HH:MM:SS format");o.z.string().datetime("Invalid datetime format"),o.z.string().url("Invalid URL format"),o.z.string().uuid("Invalid UUID format"),o.z.string().min(8,"Password must be at least 8 characters").regex(/[A-Z]/,"Password must contain at least one uppercase letter").regex(/[a-z]/,"Password must contain at least one lowercase letter").regex(/\d/,"Password must contain at least one number").regex(/[^\w\s]/,"Password must contain at least one special character"),o.z.number().nonnegative("Amount must be non-negative").multipleOf(.01,"Amount must be a valid currency value"),o.z.enum(["image/jpeg","image/png","image/gif","application/pdf","text/plain","text/csv","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel"]),o.z.number().positive("File size must be positive").max(10485760,"File size must be less than 10MB"),o.z.string().regex(/^\d+(\.\d+)?\s*(mg|g|ml|L|units?|tabs?|capsules?|drops?|sprays?)$/i,'Invalid dosage format (e.g., "10 mg", "2 tabs")'),o.z.string().regex(/^(once|twice|\d+\s*times?)\s*(daily|per day|a day|weekly|per week|monthly|per month|as needed|PRN)$/i,'Invalid frequency format (e.g., "twice daily", "3 times per day")'),o.z.object({latitude:o.z.number().min(-90).max(90),longitude:o.z.number().min(-180).max(180)}),o.z.string().min(2,"Search query must be at least 2 characters").max(100,"Search query must be less than 100 characters"),o.z.object({page:o.z.number().int().positive().default(1),limit:o.z.number().int().positive().max(100).default(20),sortBy:o.z.string().optional(),sortOrder:o.z.enum(["asc","desc"]).default("asc")}),o.z.string().regex(/^[A-Z0-9\-_]{3,20}$/,"SKU must be 3-20 characters, alphanumeric with hyphens and underscores only"),o.z.string().regex(/^\d{8,14}$/,"Barcode must be 8-14 digits"),o.z.number().int().nonnegative("Quantity must be non-negative"),o.z.string().regex(/^{{[a-zA-Z][a-zA-Z0-9_]*}}$/,"Template variable must be in format {{variableName}}"),o.z.string().regex(/^[A-Z0-9]{6,15}$/,"Insurance ID must be 6-15 alphanumeric characters"),o.z.number().int().positive().min(15,"Appointment must be at least 15 minutes").max(480,"Appointment cannot exceed 8 hours"),o.z.object({start:l,end:l,timezone:o.z.string()}).refine(e=>new Date("1970-01-01T".concat(e.start))<new Date("1970-01-01T".concat(e.end)),{message:"Start time must be before end time"});class c{initSession(){let e=this.generateSessionId();this.currentSession={sessionId:e,startTime:new Date().toISOString(),lastActivity:new Date().toISOString(),pageViews:0,events:[]}}generateSessionId(){return"session_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9))}setupActivityTracking(){document.addEventListener("visibilitychange",()=>{document.hidden?this.track("page_hidden","navigation"):(this.track("page_visible","navigation"),this.updateLastActivity())}),["click","keydown","scroll","mousemove"].forEach(e=>{document.addEventListener(e,()=>{this.updateLastActivity()},{passive:!0})}),window.addEventListener("beforeunload",()=>{this.track("page_unload","navigation"),this.flush()})}updateLastActivity(){this.currentSession&&(this.currentSession.lastActivity=new Date().toISOString())}isSessionExpired(){if(!this.currentSession)return!0;let e=new Date(this.currentSession.lastActivity);return new Date().getTime()-e.getTime()>this.sessionTimeout}init(e){this.currentSession&&(this.currentSession.userId=e.userId),this.track("app_init","system",{app:e.app,version:e.version})}setUserId(e){this.currentSession&&(this.currentSession.userId=e)}track(e,t,i){var n,s;this.isSessionExpired()&&this.initSession();let r={name:e,category:t,properties:i,userId:null===(n=this.currentSession)||void 0===n?void 0:n.userId,sessionId:null===(s=this.currentSession)||void 0===s?void 0:s.sessionId,timestamp:new Date().toISOString()};this.events.push(r),this.currentSession&&this.currentSession.events.push(r),this.events.length>=50&&this.flush()}trackPageView(e,t){this.currentSession&&this.currentSession.pageViews++,this.track("page_view","navigation",{path:e,title:t||document.title,referrer:document.referrer,userAgent:navigator.userAgent,screenResolution:"".concat(screen.width,"x").concat(screen.height),viewportSize:"".concat(window.innerWidth,"x").concat(window.innerHeight)})}trackClick(e,t){this.track("click","interaction",{element:e,...t})}trackFormSubmit(e,t){this.track("form_submit","interaction",{formName:e,...t})}trackSearch(e,t,i){this.track("search","interaction",{query:e,resultsCount:t,filters:i})}trackPatientLookup(e,t){this.track("patient_lookup","medical",{searchMethod:e,found:t})}trackHandoutGeneration(e,t,i){this.track("handout_generated","medical",{templateId:e,patientId:t,deliveryMethod:i})}trackInventoryScan(e,t,i){this.track("inventory_scan","inventory",{method:e,itemFound:t,sku:i})}trackAppointmentScheduled(e,t,i){this.track("appointment_scheduled","scheduling",{appointmentType:e,provider:t,duration:i})}trackError(e,t){this.track("error","system",{error:e,context:t,url:window.location.href,userAgent:navigator.userAgent})}trackPerformance(e,t,i){this.track("performance","system",{metric:e,value:t,unit:i})}getEvents(){return[...this.events]}getCurrentSession(){return this.currentSession}getSessionSummary(){if(!this.currentSession)return{};let e=new Date().getTime()-new Date(this.currentSession.startTime).getTime(),t=this.currentSession.events.reduce((e,t)=>(e[t.category]=(e[t.category]||0)+1,e),{});return{sessionId:this.currentSession.sessionId,userId:this.currentSession.userId,duration:e,pageViews:this.currentSession.pageViews,totalEvents:this.currentSession.events.length,eventsByCategory:t,startTime:this.currentSession.startTime,lastActivity:this.currentSession.lastActivity}}async flush(){if(0===this.events.length)return;let e=[...this.events];this.events=[];try{console.log("Analytics events:",e)}catch(t){console.error("Failed to send analytics events:",t),this.events.unshift(...e)}}clear(){this.events=[],this.currentSession=null}constructor(){this.events=[],this.currentSession=null,this.sessionTimeout=18e5,this.initSession(),this.setupActivityTracking()}}let d=new c;i(4194);class u{show(e){let t="notification_".concat(++this.idCounter,"_").concat(Date.now()),i={id:t,options:{type:"info",duration:5e3,dismissible:!0,...e},timestamp:new Date};return this.notifications.push(i),this.notifyListeners(),i.options.duration&&i.options.duration>0&&setTimeout(()=>{this.dismiss(t)},i.options.duration),t}dismiss(e){this.notifications=this.notifications.filter(t=>t.id!==e),this.notifyListeners()}dismissAll(){this.notifications=[],this.notifyListeners()}getAll(){return[...this.notifications]}subscribe(e){return this.listeners.push(e),()=>{this.listeners=this.listeners.filter(t=>t!==e)}}notifyListeners(){this.listeners.forEach(e=>{e([...this.notifications])})}success(e,t,i){return this.show({title:e,message:t,type:"success",...i})}error(e,t,i){return this.show({title:e,message:t,type:"error",duration:0,...i})}warning(e,t,i){return this.show({title:e,message:t,type:"warning",...i})}info(e,t,i){return this.show({title:e,message:t,type:"info",...i})}constructor(){this.notifications=[],this.listeners=[],this.idCounter=0}}let m=new u;var h=i(1635),g=i(5270);let p=null,_=null;function v(){return"https://pfqtzmxxxhhsxmlddrta.supabase.co"}let y=new Proxy({},{get:(e,t)=>(function(){if(p)return p;let e=v(),t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBmcXR6bXh4eGhoc3htbGRkcnRhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzI5OTQ5NjQsImV4cCI6MjA0ODU3MDk2NH0.eLPNjjpDLG0GKVHCJ6eTSWWOFCJuIOkOsILI9HxZNLM";return e&&t?p=(0,h.createClient)(e,t):{auth:{getSession:()=>Promise.resolve({data:{session:null},error:null}),onAuthStateChange:()=>({data:{subscription:{unsubscribe:()=>{}}}})},from:()=>({select:()=>({eq:()=>({single:()=>Promise.resolve({data:null,error:{message:"Not available during build"}}),limit:()=>Promise.resolve({data:[],error:null})}),limit:()=>Promise.resolve({data:[],error:null}),order:()=>Promise.resolve({data:[],error:null})}),insert:()=>Promise.resolve({data:null,error:{message:"Not available during build"}}),update:()=>({eq:()=>Promise.resolve({data:null,error:{message:"Not available during build"}})}),delete:()=>({eq:()=>Promise.resolve({data:null,error:{message:"Not available during build"}})})}),rpc:()=>Promise.resolve({data:null,error:{message:"Not available during build"}})}})()[t]}),f=new Proxy({},{get:(e,t)=>(function(){if(_)return _;let e=v(),t=g.env.SUPABASE_SERVICE_ROLE_KEY;return e&&t?_=(0,h.createClient)(e,t):{auth:{admin:{createUser:()=>Promise.resolve({data:null,error:{message:"Not available during build"}}),updateUserById:()=>Promise.resolve({data:null,error:{message:"Not available during build"}}),deleteUser:()=>Promise.resolve({data:null,error:{message:"Not available during build"}})}},from:()=>({select:()=>({eq:()=>({single:()=>Promise.resolve({data:null,error:{message:"Not available during build"}}),limit:()=>Promise.resolve({data:[],error:null})}),limit:()=>Promise.resolve({data:[],error:null}),order:()=>Promise.resolve({data:[],error:null})}),insert:()=>Promise.resolve({data:null,error:{message:"Not available during build"}}),update:()=>({eq:()=>Promise.resolve({data:null,error:{message:"Not available during build"}})}),delete:()=>({eq:()=>Promise.resolve({data:null,error:{message:"Not available during build"}})})}),rpc:()=>Promise.resolve({data:null,error:{message:"Not available during build"}})}})()[t]}),z={maxConnections:10};class I{startMonitoring(){this.isMonitoring||(this.isMonitoring=!0,console.log("\uD83D\uDD0D Database connection monitoring started"),this.monitoringInterval=setInterval(async()=>{await this.updateMetrics()},3e4))}stopMonitoring(){this.monitoringInterval&&(clearInterval(this.monitoringInterval),this.monitoringInterval=void 0),this.isMonitoring=!1,console.log("\uD83D\uDED1 Database connection monitoring stopped")}async updateMetrics(){try{let{data:e,error:t}=await f.rpc("get_database_stats");if(t){this.metrics.connectionErrors++,console.warn("Failed to get database stats:",t);return}e&&(this.metrics.totalConnections=e.numbackends||0,this.metrics.lastHealthCheck=new Date),this.metrics.totalConnections>.8*z.maxConnections&&await this.alertConnectionPoolHigh()}catch(e){this.metrics.connectionErrors++,console.error("Connection monitoring error:",e)}}trackQuery(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.metrics.totalQueries++,t){this.metrics.failedQueries++;return}this.queryTimes.push(e),this.queryTimes.length>100&&(this.queryTimes=this.queryTimes.slice(-100)),this.metrics.averageQueryTime=this.queryTimes.reduce((e,t)=>e+t,0)/this.queryTimes.length,e>1e3&&(this.metrics.slowQueries++,console.warn("\uD83D\uDC0C Slow query detected: ".concat(e,"ms")))}async alertConnectionPoolHigh(){let e=Math.round(this.metrics.totalConnections/z.maxConnections*100);if(console.warn("⚠️ High connection pool utilization: ".concat(e,"% ")+"(".concat(this.metrics.totalConnections,"/").concat(z.maxConnections,")")),g.env.SLACK_WEBHOOK_URL)try{await fetch(g.env.SLACK_WEBHOOK_URL,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:"\uD83D\uDEA8 Database Connection Alert: ".concat(e,"% pool utilization in ").concat("production")})})}catch(e){console.error("Failed to send connection alert:",e)}}getMetrics(){return{...this.metrics}}async healthCheck(){let e=[],t=this.metrics.totalConnections/z.maxConnections;t>.8&&e.push("High connection pool utilization: ".concat(Math.round(100*t),"%")),this.metrics.averageQueryTime>500&&e.push("High average query time: ".concat(Math.round(this.metrics.averageQueryTime),"ms"));let i=this.metrics.failedQueries/this.metrics.totalQueries;return i>.05&&e.push("High query error rate: ".concat(Math.round(100*i),"%")),{healthy:await b()&&0===e.length,metrics:this.getMetrics(),warnings:e}}constructor(){this.queryTimes=[],this.isMonitoring=!1,this.metrics={totalConnections:0,activeConnections:0,idleConnections:0,totalQueries:0,slowQueries:0,failedQueries:0,averageQueryTime:0,lastHealthCheck:new Date,connectionErrors:0}}}async function b(){try{let{data:e,error:t}=await y.from("users").select("id").limit(1);return!t}catch(e){return console.error("Database health check failed:",e),!1}}new I;class w{get client(){return this.useAdmin?f:y}async findById(e){let{data:t,error:i}=await this.client.from(this.tableName).select("*").eq("id",e).single();if(i){if("PGRST116"===i.code)return null;throw i}return t}async findMany(e){let t=this.client.from(this.tableName).select("*",{count:"exact"});if((null==e?void 0:e.filters)&&Object.entries(e.filters).forEach(e=>{let[i,n]=e;null!=n&&(t=t.eq(i,n))}),(null==e?void 0:e.orderBy)&&(t=t.order(e.orderBy.field,{ascending:"asc"===e.orderBy.direction})),null==e?void 0:e.limit){let i=e.offset||0;t=t.range(i,i+e.limit-1)}let{data:i,error:n,count:s}=await t;if(n)throw n;return{data:i||[],count:s||0,hasMore:null!=e&&!!e.limit&&(s||0)>(e.offset||0)+e.limit}}async create(e){let{data:t,error:i}=await this.client.from(this.tableName).insert(e).select().single();if(i)throw i;return t}async update(e,t){let{data:i,error:n}=await this.client.from(this.tableName).update({...t,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(n)throw n;return i}async delete(e){let{error:t}=await this.client.from(this.tableName).delete().eq("id",e);if(t)throw t}async deleteMany(e){let{error:t}=await this.client.from(this.tableName).delete().in("id",e);if(t)throw t}async exists(e){let{data:t,error:i}=await this.client.from(this.tableName).select("id").eq("id",e).single();return!i&&!!t}async count(e){let t=this.client.from(this.tableName).select("*",{count:"exact",head:!0});e&&Object.entries(e).forEach(e=>{let[i,n]=e;null!=n&&(t=t.eq(i,n))});let{count:i,error:n}=await t;if(n)throw n;return i||0}constructor(e,t=!1){this.tableName=e,this.useAdmin=t}}class E extends w{async findByEmail(e){let{data:t,error:i}=await this.client.from(this.tableName).select("*").eq("email",e).single();if(i){if("PGRST116"===i.code)return null;throw i}return t}async findByRole(e){let{data:t,error:i}=await this.client.from(this.tableName).select("*").eq("role",e).eq("is_active",!0);if(i)throw i;return t||[]}async findByLocation(e){let{data:t,error:i}=await this.client.from(this.tableName).select("*").contains("locations",[e]).eq("is_active",!0);if(i)throw i;return t||[]}async updateLastLogin(e){let{error:t}=await this.client.from(this.tableName).update({last_login:new Date().toISOString()}).eq("id",e);if(t)throw t}async updateLocations(e,t){return this.update(e,{locations:t})}async deactivateUser(e){return this.update(e,{is_active:!1})}async activateUser(e){return this.update(e,{is_active:!0})}async searchUsers(e){let{data:t,error:i}=await this.client.from(this.tableName).select("*").or("name.ilike.%".concat(e,"%,email.ilike.%").concat(e,"%")).eq("is_active",!0).limit(50);if(i)throw i;return t||[]}constructor(){super("users",!0)}}new E;class S extends w{async findActiveLocations(){let{data:e,error:t}=await this.client.from(this.tableName).select("*").eq("is_active",!0).order("name",{ascending:!0});if(t)throw t;return e||[]}async findByState(e){let{data:t,error:i}=await this.client.from(this.tableName).select("*").eq("state",e).eq("is_active",!0).order("city",{ascending:!0});if(i)throw i;return t||[]}async findByCity(e,t){let{data:i,error:n}=await this.client.from(this.tableName).select("*").eq("city",e).eq("state",t).eq("is_active",!0);if(n)throw n;return i||[]}async searchLocations(e){let{data:t,error:i}=await this.client.from(this.tableName).select("*").or("name.ilike.%".concat(e,"%,city.ilike.%").concat(e,"%,address.ilike.%").concat(e,"%")).eq("is_active",!0).limit(50);if(i)throw i;return t||[]}async updateSettings(e,t){return this.update(e,{settings:t})}constructor(){super("locations")}}new S;class D extends w{async logAction(e,t,i,n,s,r,a){return this.create({user_id:e,action:t,resource_type:i,resource_id:n,metadata:s,ip_address:r,user_agent:a})}async getLogsByUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,{data:i}=await this.findMany({filters:{user_id:e},orderBy:{field:"created_at",direction:"desc"},limit:t});return i}async getLogsByResource(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,{data:n}=await this.findMany({filters:{resource_type:e,resource_id:t},orderBy:{field:"created_at",direction:"desc"},limit:i});return n}async getLogsByAction(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,{data:i}=await this.findMany({filters:{action:e},orderBy:{field:"created_at",direction:"desc"},limit:t});return i}async getLogsByDateRange(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,{data:n,error:s}=await this.client.from(this.tableName).select("*").gte("created_at",e).lte("created_at",t).order("created_at",{ascending:!1}).limit(i);if(s)throw s;return n||[]}async cleanupOldLogs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:365,t=new Date;t.setDate(t.getDate()-e);let{count:i,error:n}=await this.client.from(this.tableName).delete({count:"exact"}).lt("created_at",t.toISOString());if(n)throw n;return i||0}constructor(){super("audit_logs",!0)}}new D;let N=o.z.object({id:o.z.string().uuid(),created_at:o.z.string().datetime(),updated_at:o.z.string().datetime()}),R=o.z.enum(["staff","manager","superadmin","pharma_rep","patient","vinya_tech"]);N.extend({email:o.z.string().email(),name:o.z.string().optional(),avatar_url:o.z.string().url().optional(),role:R,locations:o.z.array(o.z.string().uuid()),is_active:o.z.boolean(),last_login:o.z.string().datetime().optional(),metadata:o.z.record(o.z.any()).optional()}).omit({id:!0,created_at:!0,updated_at:!0}).partial(),N.extend({name:o.z.string().min(1),address:o.z.string().min(1),city:o.z.string().min(1),state:o.z.string().length(2),zip_code:o.z.string().regex(/^\d{5}(-\d{4})?$/),phone:o.z.string().regex(/^\+?[1-9]\d{1,14}$/).optional(),email:o.z.string().email().optional(),timezone:o.z.string(),is_active:o.z.boolean(),settings:o.z.record(o.z.any()).optional()}).omit({id:!0,created_at:!0,updated_at:!0}).partial(),N.extend({user_id:o.z.string().uuid().optional(),action:o.z.string().min(1),resource_type:o.z.string().min(1),resource_id:o.z.string().uuid().optional(),metadata:o.z.record(o.z.any()).optional(),ip_address:o.z.string().ip().optional(),user_agent:o.z.string().optional()}).omit({id:!0,created_at:!0,updated_at:!0});let A=o.z.enum(["info","success","warning","error","reminder"]);N.extend({user_id:o.z.string().uuid(),title:o.z.string().min(1),message:o.z.string().min(1),type:A,read_at:o.z.string().datetime().optional(),action_url:o.z.string().url().optional(),metadata:o.z.record(o.z.any()).optional()}).omit({id:!0,created_at:!0,updated_at:!0}),N.extend({user_id:o.z.string().uuid(),filename:o.z.string().min(1),original_name:o.z.string().min(1),mime_type:o.z.string(),file_size:o.z.number().positive(),storage_path:o.z.string().min(1),public_url:o.z.string().url().optional(),metadata:o.z.record(o.z.any()).optional(),is_public:o.z.boolean()}).omit({id:!0,created_at:!0,updated_at:!0}),N.extend({name:o.z.string().min(1),description:o.z.string().optional(),sku:o.z.string().min(1),barcode:o.z.string().optional(),category:o.z.string().min(1),vendor:o.z.string().min(1),unit_price:o.z.number().nonnegative(),quantity_on_hand:o.z.number().nonnegative(),reorder_level:o.z.number().nonnegative(),location_id:o.z.string().uuid(),is_active:o.z.boolean(),metadata:o.z.record(o.z.any()).optional()}).omit({id:!0,created_at:!0,updated_at:!0}),N.extend({name:o.z.string().min(1),description:o.z.string().optional(),template_type:o.z.string().min(1),content:o.z.string().min(1),variables:o.z.array(o.z.string()),category:o.z.string().min(1),is_active:o.z.boolean(),created_by:o.z.string().uuid(),metadata:o.z.record(o.z.any()).optional()}).omit({id:!0,created_at:!0,updated_at:!0}),N.extend({first_name:o.z.string().min(1),last_name:o.z.string().min(1),date_of_birth:o.z.string().date(),email:o.z.string().email().optional(),phone:o.z.string().regex(/^\+?[1-9]\d{1,14}$/).optional(),address:o.z.string().optional(),city:o.z.string().optional(),state:o.z.string().length(2).optional(),zip_code:o.z.string().regex(/^\d{5}(-\d{4})?$/).optional(),mrn:o.z.string().min(1),insurance_info:o.z.record(o.z.any()).optional(),emergency_contact:o.z.record(o.z.any()).optional(),metadata:o.z.record(o.z.any()).optional()}).omit({id:!0,created_at:!0,updated_at:!0});let T=o.z.enum(["scheduled","confirmed","in_progress","completed","cancelled","no_show"]);N.extend({patient_id:o.z.string().uuid(),provider_id:o.z.string().uuid(),location_id:o.z.string().uuid(),appointment_type:o.z.string().min(1),scheduled_at:o.z.string().datetime(),duration_minutes:o.z.number().positive(),status:T,notes:o.z.string().optional(),metadata:o.z.record(o.z.any()).optional()}).omit({id:!0,created_at:!0,updated_at:!0}),o.z.object({limit:o.z.number().positive().optional(),offset:o.z.number().nonnegative().optional(),orderBy:o.z.object({field:o.z.string(),direction:o.z.enum(["asc","desc"])}).optional(),filters:o.z.record(o.z.any()).optional()}),i(5270);class O{async get(e){return this.store.get(e)||null}async set(e,t){this.store.set(e,t)}async increment(e,t){let i=Date.now(),n=this.store.get(e);if(n&&!(n.resetTime<=i))return n.count++,this.store.set(e,n),n;{let n={count:1,resetTime:i+t};return this.store.set(e,n),n}}destroy(){clearInterval(this.cleanupInterval),this.store.clear()}constructor(){this.store=new Map,this.cleanupInterval=setInterval(()=>{let e=Date.now();for(let[t,i]of Array.from(this.store.entries()))i.resetTime<=e&&this.store.delete(t)},6e4)}}new O,i(2130),(n=r||(r={})).UNAUTHORIZED="UNAUTHORIZED",n.FORBIDDEN="FORBIDDEN",n.TOKEN_EXPIRED="TOKEN_EXPIRED",n.INVALID_CREDENTIALS="INVALID_CREDENTIALS",n.VALIDATION_ERROR="VALIDATION_ERROR",n.MISSING_REQUIRED_FIELD="MISSING_REQUIRED_FIELD",n.INVALID_FORMAT="INVALID_FORMAT",n.NOT_FOUND="NOT_FOUND",n.ALREADY_EXISTS="ALREADY_EXISTS",n.RESOURCE_CONFLICT="RESOURCE_CONFLICT",n.RATE_LIMIT_EXCEEDED="RATE_LIMIT_EXCEEDED",n.INTERNAL_SERVER_ERROR="INTERNAL_SERVER_ERROR",n.DATABASE_ERROR="DATABASE_ERROR",n.EXTERNAL_SERVICE_ERROR="EXTERNAL_SERVICE_ERROR",n.BUSINESS_RULE_VIOLATION="BUSINESS_RULE_VIOLATION",n.INSUFFICIENT_PERMISSIONS="INSUFFICIENT_PERMISSIONS",n.OPERATION_NOT_ALLOWED="OPERATION_NOT_ALLOWED",n.PHI_ACCESS_DENIED="PHI_ACCESS_DENIED",n.AUDIT_LOG_REQUIRED="AUDIT_LOG_REQUIRED",n.CONSENT_REQUIRED="CONSENT_REQUIRED",(s=a||(a={})).LOW="low",s.MEDIUM="medium",s.HIGH="high",s.CRITICAL="critical",i(6803),i(7837),i(5587)},7091:function(){}}]);