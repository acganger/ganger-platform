(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[26],{9162:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return a(5595)}])},5595:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return c}});var r=a(1549),n=a(4194),s=a(8097),i=a(5443),l=a(2230);function o(){let{user:e,profile:t}=(0,s.aC)(),[a,o]=(0,n.useState)(null),[c,d]=(0,n.useState)([]),[u,m]=(0,n.useState)(!0),[h,g]=(0,n.useState)("");(0,n.useEffect)(()=>{(async()=>{try{let[e,r]=await Promise.all([fetch("/inventory/api/stats"),fetch("/inventory/api/items")]);if(e.ok){let t=await e.json();o(t)}if(r.ok){let e=await r.json();d(e.items||[])}l.co.track("dashboard_loaded","navigation",{user_role:null==t?void 0:t.role,total_items:(null==a?void 0:a.totalItems)||0})}catch(e){console.error("Error loading inventory data:",e),o({totalItems:0,lowStock:0,recentOrders:0,monthlyUsage:0}),d([])}finally{m(!1)}})()},[t]);let v=c.filter(e=>e.name.toLowerCase().includes(h.toLowerCase())||e.category.toLowerCase().includes(h.toLowerCase()));return u?(0,r.jsx)(i.LN,{children:(0,r.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,r.jsx)(i.TK,{size:"lg"})})}):(0,r.jsxs)(i.LN,{children:[(0,r.jsx)(i.mr,{title:"Inventory Dashboard",subtitle:"Track and manage medical supplies",actions:(0,r.jsx)(i.zx,{variant:"primary",size:"sm",children:"Add New Item"})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,r.jsx)(i.Rm,{title:"Total Items",value:(null==a?void 0:a.totalItems.toLocaleString())||"0",icon:"package",trend:{value:12,direction:"up"}}),(0,r.jsx)(i.Rm,{title:"Low Stock Items",value:(null==a?void 0:a.lowStock.toString())||"0",icon:"alert-triangle",variant:"warning"}),(0,r.jsx)(i.Rm,{title:"Recent Orders",value:(null==a?void 0:a.recentOrders.toString())||"0",icon:"shopping-cart",trend:{value:5,direction:"up"}}),(0,r.jsx)(i.Rm,{title:"Monthly Usage",value:(null==a?void 0:a.monthlyUsage.toLocaleString())||"0",icon:"trending-up"})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Inventory Items"}),(0,r.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,r.jsx)(i.II,{placeholder:"Search items...",value:h,onChange:e=>g(e.target.value),className:"w-64"}),(0,r.jsx)(i.zx,{variant:"outline",size:"sm",children:"Filter"}),(0,r.jsx)(i.zx,{variant:"outline",size:"sm",children:"Export"})]})]}),(0,r.jsx)(i.wQ,{data:v,columns:[{key:"name",header:"Item Name",sortable:!0},{key:"category",header:"Category",sortable:!0},{key:"currentStock",header:"Current Stock",sortable:!0},{key:"minStock",header:"Min Stock",sortable:!0},{key:"status",header:"Status",sortable:!0},{key:"lastOrdered",header:"Last Ordered",sortable:!0}],onRowClick:e=>{l.co.track("inventory_item_clicked","interaction",{item_id:e.id,item_name:e.name})}})]})]})}function c(){return(0,r.jsx)(s.a1,{level:"staff",appName:"inventory",children:(0,r.jsx)(o,{})})}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=9162)}),_N_E=e.O()}]);